"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["21858"],{788568(e,s,i){i.r(s),i.d(s,{metadata:()=>n,default:()=>h,frontMatter:()=>l,contentTitle:()=>c,toc:()=>o,assets:()=>a});var n=JSON.parse('{"id":"Documentation/PlatformAPIs/MLink/TickerBaskets","title":"MLink TickerBasket","description":"SpiderRock provides a TickerBasket feature via MLink REST (WebSockets coming) that allows clients to group multiple tickers into named baskets for efficient querying. This feature is available through the MLink/REST API.","source":"@site/docs/Documentation/PlatformAPIs/MLink/4.TickerBaskets.md","sourceDirName":"Documentation/PlatformAPIs/MLink","slug":"/Documentation/PlatformAPIs/MLink/TickerBaskets","permalink":"/docs/next/Documentation/PlatformAPIs/MLink/TickerBaskets","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"MLink TickerBasket","sidebar_position":4},"sidebar":"documentationSidebar","previous":{"title":"MLink Live Calculators","permalink":"/docs/next/Documentation/PlatformAPIs/MLink/MLinkCalculators"},"next":{"title":"MLink API Keys","permalink":"/docs/next/Documentation/PlatformAPIs/MLink/ApiKeys"}}'),r=i(886070),t=i(848193);let l={title:"MLink TickerBasket",sidebar_position:4},c,a={},o=[{value:"Overview",id:"overview",level:2},{value:"TickerBasket Workflow",id:"tickerbasket-workflow",level:2},{value:"Key Messages",id:"key-messages",level:3},{value:"Workflow",id:"workflow",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"TickerItemDef Message",id:"tickeritemdef-message",level:3},{value:"Query Parameter",id:"query-parameter",level:3},{value:"Supported Message Types",id:"supported-message-types",level:2},{value:"Features",id:"features",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Example Use Cases",id:"example-use-cases",level:2},{value:"Example 1: Equity Quote Basket",id:"example-1-equity-quote-basket",level:3},{value:"Example 2: Option Quote Basket",id:"example-2-option-quote-basket",level:3},{value:"Example 3: Combined with WHERE Clause",id:"example-3-combined-with-where-clause",level:3}];function d(e){let s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["SpiderRock provides a TickerBasket feature via MLink REST (WebSockets coming) that allows clients to group multiple tickers into named baskets for efficient querying. This feature is available through the ",(0,r.jsx)(s.a,{href:"/docs/next/Documentation/PlatformAPIs/MLink/",children:"MLink/REST API"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(s.p,{children:"MLink TickerBasket enables clients to:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Group multiple tickers into named baskets"}),"\n",(0,r.jsx)(s.li,{children:"Query data for all tickers in a basket using a single parameter"}),"\n",(0,r.jsx)(s.li,{children:"Achieve faster query performance compared to WHERE clause filtering"}),"\n",(0,r.jsx)(s.li,{children:"Scale efficiently from small (10 tickers) to large (200+ tickers) baskets"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"To use TickerBasket, clients must:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Secure an MLink API Key"}),"\n",(0,r.jsx)(s.li,{children:"Connect to an MLink/WebSocket or REST server"}),"\n",(0,r.jsx)(s.li,{children:"Define baskets using TickerItemDef messages"}),"\n",(0,r.jsx)(s.li,{children:"Query using the basket number parameter"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"tickerbasket-workflow",children:"TickerBasket Workflow"}),"\n",(0,r.jsx)(s.h3,{id:"key-messages",children:"Key Messages"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Message"}),(0,r.jsx)(s.th,{children:"Source"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"/docs/next/MessageSchemas/Schema/Topics/mlink/TickerItemDef",children:"TickerItemDef"})}),(0,r.jsx)(s.td,{children:"Client"}),(0,r.jsx)(s.td,{children:"Define tickers in a basket"})]})})]}),"\n",(0,r.jsx)(s.h3,{id:"workflow",children:"Workflow"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsxs)(s.strong,{children:["Client Sends ",(0,r.jsx)(s.a,{href:"/docs/MessageSchemas/Schema/Topics/%5BPATH%5D/TickerItemDef.md",children:"TickerItemDef"})," Objects"]}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Send multiple TickerItemDef objects to the MLink server"}),"\n",(0,r.jsx)(s.li,{children:"Each object represents a ticker with key details (ticker symbol, asset type, ticker source)"}),"\n",(0,r.jsxs)(s.li,{children:["Include a ",(0,r.jsx)(s.code,{children:"basketNumber"})," field to group tickers into a single basket"]}),"\n",(0,r.jsxs)(s.li,{children:["Include a ",(0,r.jsx)(s.code,{children:"userName"})," field to identify the basket owner"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Post Basket Definitions"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Post using: ",(0,r.jsx)(s.code,{children:"POST /rest/proto?cmd=postmsgs&postaction=I"})]}),"\n",(0,r.jsx)(s.li,{children:"Each TickerItemDef adds one ticker to the specified basket"}),"\n",(0,r.jsx)(s.li,{children:"Baskets can contain varying numbers of tickers (10-200+), each being its own object."}),"\n",(0,r.jsx)(s.li,{children:"Baskets are user-specific: the same basket number can exist for different users"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Query Using TickerBasket Parameter"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Use the ",(0,r.jsx)(s.code,{children:"tickerbasket"})," parameter with the basket number"]}),"\n",(0,r.jsxs)(s.li,{children:["Example: ",(0,r.jsx)(s.code,{children:"GET /rest/proto?cmd=getmsgs&msgtype=OptionNbboQuote&tickerbasket=0000-0000-0000-0001"})]}),"\n",(0,r.jsx)(s.li,{children:"Server processes the query for all tickers in the basket"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsx)(s.h3,{id:"tickeritemdef-message",children:"TickerItemDef Message"}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"TickerItemDef"})," message is used to define individual tickers within a basket."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Primary Key Fields:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ticker"})," (TickerKey): The ticker symbol, asset type, and ticker source"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"basketNumber"})," (HexLong): The basket identifier (can be formatted with or without dashes, e.g., ",(0,r.jsx)(s.code,{children:"1"})," or ",(0,r.jsx)(s.code,{children:"0000-0000-0000-0001"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"userName"}),": The username that owns this basket - your username"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Body Fields:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"clientFirm"})," (ClientFirm): The client firm associated withyour userName - not mandatory"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"timestamp"})," (Timestamp): Timestamp - not mandatory"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example TickerItemDef POST with Objects as Body:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'POST /rest/json?cmd=postmsgs&postaction=I\n{\n  "header": {\n    "mTyp": "TickerItemDef"\n  },\n  "message": {\n    "pkey": {\n      "ticker": {\n        "at": "EQT",\n        "ts": "NMS",\n        "tk": "AAPL"\n      },\n      "basketNumber": "0000-1111-2222-3333",\n      "userName": "YOUR_USERNAME"\n    },\n    "clientFirm": "YOUR_CLIENT_FIRM",\n    "timestamp": "2025-01-01 12:00:00.000000"\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"query-parameter",children:"Query Parameter"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Parameter Name:"})," ",(0,r.jsx)(s.code,{children:"tickerbasket"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Format:"})," HexLong (supports both ",(0,r.jsx)(s.code,{children:"1"})," and ",(0,r.jsx)(s.code,{children:"0000-0000-0000-0001"})," formats)"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Usage:"})," Add to any ",(0,r.jsx)(s.code,{children:"getmsgs"})," or ",(0,r.jsx)(s.code,{children:"getcount"})," query"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Examples:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"GET /rest/json?cmd=getmsgs&msgtype=StockBookQuote&tickerbasket=1\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"GET /rest/json?cmd=getmsgs&msgtype=OptionNbboQuote&tickerbasket=1&l=5000\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"GET /rest/json?cmd=getcount&msgtype=LiveImpliedQuote&tickerbasket=0000-0000-0000-0001\n"})}),"\n",(0,r.jsx)(s.h2,{id:"supported-message-types",children:"Supported Message Types"}),"\n",(0,r.jsxs)(s.p,{children:["TickerBasket filtering works with message types that have one of the following key types ",(0,r.jsx)(s.strong,{children:"in their schema"})," (primary key OR body fields):"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"TickerKey in Primary Key"}),": Messages like ",(0,r.jsx)(s.code,{children:"StockBookQuote"}),", ",(0,r.jsx)(s.code,{children:"StockPrint"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"OptionKey in Primary Key"}),": Messages like ",(0,r.jsx)(s.code,{children:"OptionNbboQuote"}),", ",(0,r.jsx)(s.code,{children:"LiveImpliedQuote"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ExpiryKey in Primary Key"}),": Messages like ",(0,r.jsx)(s.code,{children:"LiveSurfaceCurve"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Performance Optimization"}),": Faster query performance compared to WHERE clause filtering, especially for queries involving multiple tickers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Scalability"}),": Support for baskets ranging from 10 to 200+ tickers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Flexible Querying"}),": Use basket number as a single parameter instead of complex WHERE clauses"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Named Baskets"}),": Organize tickers into logical groups with unique basket numbers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Combined Filtering"}),": Can be combined with other query parameters like ",(0,r.jsx)(s.code,{children:"where"}),", ",(0,r.jsx)(s.code,{children:"limit"}),", etc."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(s.p,{children:"The server returns specific error messages for common issues:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Basket Not Found"}),": ",(0,r.jsx)(s.code,{children:"TickerBasket: basket {basketNumber} not found for user {userName}"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Empty Basket"}),": ",(0,r.jsx)(s.code,{children:"TickerBasket: basket {basketNumber} is empty"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Unsupported Message Type"}),": ",(0,r.jsx)(s.code,{children:"TickerBasket: message type {messageType} does not support ticker basket filtering"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Invalid Format"}),": ",(0,r.jsx)(s.code,{children:"invld param: tickerbasket ({value})"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Basket Size"}),": Keep baskets to a reasonable size (10-200 tickers) for optimal performance"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Combining Filters"}),": TickerBasket works well with other filters, but complex WHERE clauses may negate performance benefits"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"example-use-cases",children:"Example Use Cases"}),"\n",(0,r.jsx)(s.h3,{id:"example-1-equity-quote-basket",children:"Example 1: Equity Quote Basket"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Define basket with 3 equity tickers\nPOST /rest/json?cmd=postmsgs&postaction=I\n[Multiple TickerItemDef messages with basketNumber=1]\n\n# Query all quotes for basket\nGET /rest/json?cmd=getmsgs&msgtype=StockBookQuote&tickerbasket=1\n"})}),"\n",(0,r.jsx)(s.h3,{id:"example-2-option-quote-basket",children:"Example 2: Option Quote Basket"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Define basket with option underliers (Ticker)\nPOST /rest/json?cmd=postmsgs&postaction=I\n[Multiple TickerItemDef messages with basketNumber=2]\n\n# Query all option quotes for basket\nGET /rest/json?cmd=getmsgs&msgtype=OptionNbboQuote&tickerbasket=2&l=5000\n"})}),"\n",(0,r.jsx)(s.h3,{id:"example-3-combined-with-where-clause",children:"Example 3: Combined with WHERE Clause"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Query options in basket with additional filtering\nGET /rest/json?cmd=getmsgs&msgtype=OptionNbboQuote&tickerbasket=1&where=okey.tk:eq:2025-01-17\n"})})]})}function h(e={}){let{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},848193(e,s,i){i.d(s,{R:()=>l,x:()=>c});var n=i(830758);let r={},t=n.createContext(r);function l(e){let s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);