"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["57021"],{706244:function(e,r,s){s.r(r),s.d(r,{default:()=>m,frontMatter:()=>i,metadata:()=>t,assets:()=>l,toc:()=>d,contentTitle:()=>c});var t=JSON.parse('{"id":"Documentation/PlatformAPIs/SRSE/SRTrade","title":"SR Trade","description":"Overview","source":"@site/versioned_docs/version-8.5.11.3/Documentation/PlatformAPIs/SRSE/2.SRTrade.md","sourceDirName":"Documentation/PlatformAPIs/SRSE","slug":"/Documentation/PlatformAPIs/SRSE/SRTrade","permalink":"/docs/8.5.11.3/Documentation/PlatformAPIs/SRSE/SRTrade","draft":false,"unlisted":false,"tags":[],"version":"8.5.11.3","sidebarPosition":2,"frontMatter":{"title":"SR Trade","sidebar_position":2},"sidebar":"documentationSidebar","previous":{"title":"SR Analytics","permalink":"/docs/8.5.11.3/Documentation/PlatformAPIs/SRSE/SRAnalytics"},"next":{"title":"SR Live","permalink":"/docs/8.5.11.3/Documentation/PlatformAPIs/SRSE/SRLive"}}'),n=s("552676"),a=s("491503");let i={title:"SR Trade",sidebar_position:2},c=void 0,l={},d=[{value:"Overview",id:"overview",level:2},{value:"SR Trade Tables",id:"sr-trade-tables",level:2},{value:"Query Examples",id:"query-examples",level:2},{value:"Inserting Orders",id:"inserting-orders",level:3},{value:"Monitoring Orders",id:"monitoring-orders",level:3},{value:"Cancelling Orders",id:"cancelling-orders",level:3}];function o(e){let r={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"SpiderRock Connect equity, option, and future parent order management"}),"\n",(0,n.jsx)(r.li,{children:"Parent order executions and reports"}),"\n",(0,n.jsx)(r.li,{children:"Multi-leg parent order management"}),"\n",(0,n.jsx)(r.li,{children:"Upload away executions (drops)"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"The SR Trade database is where a user can input orders as well as see all fills and view working orders. A user can also set it up to programmatically cancel orders as well as have customized auto hedge and metrics for programmatic trading."}),"\n",(0,n.jsx)(r.h2,{id:"sr-trade-tables",children:"SR Trade Tables"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.img,{alt:"SR Trade Tables",src:s(644645).Z+"",width:"261",height:"642"})," ",(0,n.jsx)(r.img,{alt:"SR Trade Tables",src:s(330761).Z+"",width:"258",height:"612"})]}),"\n",(0,n.jsx)(r.h2,{id:"query-examples",children:"Query Examples"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 1:"})," The ",(0,n.jsx)(r.strong,{children:"docColumns"})," query below allows a user to pull up the definitions for any table, which is very useful when navigating through the different tables in the SR Trade database."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM srtrade.doccolumns WHERE TABLE_NAME='msgparentordergateway'\nORDER BY ordinal_position ASC;\n"})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"Doc Columns",src:s(638649).Z+"",width:"1047",height:"220"})}),"\n",(0,n.jsx)(r.h3,{id:"inserting-orders",children:"Inserting Orders"}),"\n",(0,n.jsxs)(r.p,{children:["Inserting any order (option, stock, future) into the system is done via the ",(0,n.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/srse-gateway/ParentOrderGateway/",children:"ParentOrderGateway"})," table. There are many different fields and variables that can be used for different order types. The examples below demonstrate the simplest order parameters."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 2:"})," Options"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergateway (seckey_at, seckey_ts, seckey_tk, seckey_yr, seckey_mn, seckey_dy, seckey_xx, seckey_cp,sectype, orderSize,orderActiveSize, accnt, clientFirm, spdrActionType, groupingCode, orderSide, marketSession, orderDuration, orderLimitType, orderVolLimit, parentOrderHandling, parentBalanceHandling, takeLimitClass, makeLimitClass, autoHedge, riskGroupId, traderName, CHECKSUM)\nVALUES ('EQT', 'NMS', 'NVDA', 2025, 10, 17, 180, 'Put','Option', 35,-1, 'T.ACCNT','SRCORE', 'addreplace', '0000-0000-0000-0042', 'BUY', 'Regmkt', 400, 'VOlX',.34, 'Activetaker', 'Postlimit', 'Simple', 'Simple', 'none', '0000-0000-0000-0028', 'user.name', 13);\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 3:"})," Stocks"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergateway (accnt, clientFirm, groupingCode, spdrActionType, sectype, seckey_at, seckey_ts, seckey_tk, seckey_yr, seckey_mn, seckey_dy, seckey_xx, seckey_cp, orderSide, orderSize, parentOrderHandling, parentBalanceHandling, orderLimitType, orderPrcLimit, marketSession, traderName, riskGroupId, CHECKSUM)\nVALUES ('T.ACCNT','SRCORE','0000-0000-0000-0043' , 'Addreplace', 'Stock', 'EQT', 'NMS', 'SPY', 2000,0,0,0, 'Call', 'Buy', 1000, 'activetaker', 'Postlimit', 'Prc', 681, 'Regpostmkt', 'user.name', '0000-0000-0000-0043',13);\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 4:"})," Futures"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergateway (accnt,clientFirm,groupingCode,spdrActionType,sectype,seckey_at,seckey_ts,seckey_tk,seckey_yr,seckey_mn,seckey_dy,seckey_xx,seckey_cp,orderSide,orderSize,parentOrderHandling,parentBalanceHandling,orderLimitType,orderPrcLimit,marketSession,traderName,riskGroupId,CHECKSUM)\nVALUES ('T.ACCNT','SRCORE','0000-0000-0000-0045', 'AddReplace', 'Future', 'FUT', 'CME', 'ES', 2025, 12, 19, 0, 'Call', 'Buy', 1000, 'ActiveTaker', 'PostLimit','Prc',6711,'RegPostMkt','user.name','0000-0000-0000-0045',13);\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 5:"})," Hedging with a Future"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergateway (seckey_at,seckey_ts,seckey_tk,seckey_yr,seckey_mn,seckey_dy,seckey_xx,seckey_cp,sectype,orderSize,accnt,clientFirm,spdrActionType,groupingCode,orderSide,marketSession,orderDuration,orderActiveSize,orderLimitType,parentOrderHandling,parentBalanceHandling,takeLimitClass,makeLimitClass,autoHedge,hedgeInstrument,hedgeSeckey_at,hedgeSeckey_ts,hedgeSeckey_tk,hedgeSeckey_yr,hedgeSeckey_mn,hedgeSeckey_dy,riskGroupId,traderName,CHECKSUM)\nVALUES ('EQT','NMS','SPX',2025,10,17,6900,'Put','Option',908,'T.ACCNT','SRCORE','AddReplace','0000-0000-0000-0032','Buy','RegMkt',-1, 0, 'Market', 'ActiveTaker', 'PostLimit', 'Surface', 'Surface', 'Spdrauto', 'FUTURE', 'FUT','CME','ES',2025,12,19,'0000-0000-0000-0032','user.name',13);\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 6:"})," To send orders into the Complex Order Book, the user must use a different gateway called ",(0,n.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/srse-gateway/ParentOrderGatewayExt/",children:"ParentOrderGatewayExt"}),"."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergatewayext (accnt,clientFirm,spdrActionType,orderSize,marketSession,orderDuration,seckey_at,seckey_ts,seckey_tk,sectype,orderSide,startType,parentOrderHandling,parentBalanceHandling,takeLimitClass,maxExposureSize,maxCompletionSlippage,orderLimitType,orderPrcLimit,optPremium,leadSide,traderName,mlegNumLegs,CHECKSUM,autoHedge,orderActiveSize,mlegSeckey1_at,mlegSeckey1_ts,mlegSeckey1_tk,mlegSeckey1_yr,mlegSeckey1_mn,mlegSeckey1_dy,mlegSeckey1_xx,mlegSeckey1_cp,mlegSectype1,mlegMult1,mlegSide1,mlegLegId1,mlegPosType1,mlegSeckey2_at,mlegSeckey2_ts,mlegSeckey2_tk,mlegSeckey2_yr,mlegSeckey2_mn,mlegSeckey2_dy,mlegSeckey2_xx,mlegSeckey2_cp,mlegSectype2,mlegMult2,mlegSide2,mlegLegId2,mlegPosType2,groupingCode,riskGroupId)\nVALUES ('T.ACCNT','SRCORE','AddReplace',100,'RegMkt',600,'EQT','NMS','AAPL','Mleg','Buy','None','Seekerlegger','PostLimit','Simple',10,0.5,'Prc',10.00,10.00,'Buy','user.name',2,13,'SpdrAuto',-1,'EQT','NMS','AAPL',2025,10,17,255,'Call','option',1,'Buy',1,'auto','EQT','NMS','AAPL',2025,10,17,255,'Put','option',1,'Buy',2,'Auto','1200-1000-0001-1140','0120-0000-1001-1140');\n"})}),"\n",(0,n.jsx)(r.h3,{id:"monitoring-orders",children:"Monitoring Orders"}),"\n",(0,n.jsx)(r.p,{children:"Below are queries that users can utilize to monitor orders in held or working states."}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 7:"})," To monitor orders in a hold state:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"DESCRIBE srtrade.msgsrparentbrkrstate;\nSELECT\naccnt,groupingCode,riskGroupId,seckey_tk,seckey_yr,seckey_mn,seckey_dy,seckey_xx,seckey_cp,sectype,orderSide,orderSize,orderActiveSize,cumFillQuantity,makeState,takeState,riskLimitDesc,riskLimitSize,spdrBrokerStatus,spdrCloseReason,spdrRejectReason\nFROM srtrade.msgsrparentbrkrstate a\nWHERE accnt = 'T.ACCNT' AND riskLimitDesc != 'Activesize' AND riskLimitSize = 0 AND spdrBrokerStatus = 'Active';\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 8:"})," To monitor working orders and child orders in the market:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"SELECT accnt,groupingCode,riskGroupId,seckey_tk,seckey_yr,seckey_mn,seckey_dy,seckey_xx,seckey_cp,sectype,orderSide,orderSize,orderActiveSize,cumFillQuantity,makeState,takeState,riskLimitDesc,riskLimitSize,spdrBrokerStatus,spdrCloseReason,spdrRejectReason,csz1,cpx1\nFROM srtrade.msgsrparentbrkrstate a\nWHERE accnt = 'T.ACCNT' AND riskLimitSize != 0 AND spdrBrokerStatus = 'Active';\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 9:"})," To monitor orders in all states:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"SELECT spdrBrokerStatus,spdrOrderStatus,spdrCloseReason,spdrRejectReason,makeState,riskLimitSize,riskLimitDesc,orderActiveSize,csz1,st.* \nFROM srtrade.msgsrparentbrkrstate st\nWHERE accnt = 'T.ACCNT';\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 10:"})," Users who want to view their fills programmatically or retrieve fill data for calculating their own TCA metrics can do so here:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"SELECT accnt,execStatus,seckey_tk,seckey_yr,seckey_mn,seckey_dy,seckey_xx,seckey_cp,sectype,fillQuantity,fillPrice,fillDttm,a.*\nFROM srtrade.msgsrparentexecution a\nWHERE accnt = 'T.ACCNT';\n"})}),"\n",(0,n.jsx)(r.h3,{id:"cancelling-orders",children:"Cancelling Orders"}),"\n",(0,n.jsx)(r.p,{children:"Once an order is in the system, the ability to quickly cancel single or multiple orders is essential. The following queries demonstrate how to perform these actions."}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 11:"})," Allows users to cancel all orders across multiple accounts, provided all accounts belong to the same client firm."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM srtrade.msgspdrusercancel;\nREPLACE INTO srtrade.msgspdrusercancel\nVALUES ('user.name','SR','cancelall', 'user.name' ,NOW(),0);\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 12:"})," Allows for the cancellation of all users' orders within a single account. Think of this as a panic cancelling all action."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"DESCRIBE srtrade.msgsraccntcancel;\nREPLACE INTO srtrade.msgsraccntcancel(accnt,cxlreason,altcancelid,username,TIMESTAMP)\nVALUES('T.ACCNT','TEST','NONE','user.name',NOW());\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Sample Query 13:"})," Allows the user to cancel specific orders (or just everything in a symbol). To do so, pull the information from ",(0,n.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/parent-orders/SpdrParentBrkrState/",children:"SpdrParentBrkrState"})," and use that to be as specific or general as needed."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sql",children:"DESCRIBE srtrade.msgsrparentcancel;\nDESCRIBE srtrade.msgsrparentbrkrstate;\nREPLACE INTO srtrade.msgsrparentcancel (accnt,parentNumber,cxlReason,altCancelId,username,TIMESTAMP,timestamp_us)\n(SELECT accnt,parentNumber,'Test',1234,'user.name',NOW(),0\nFROM srtrade.msgsrparentbrkrstate\nWHERE accnt = 'T.ACCNT' AND seckey_tk = 'SPY' AND sectype = 'Stock' AND spdrOrderStatus != 'Closed');\n"})})]})}function m(e={}){let{wrapper:r}={...(0,a.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},644645:function(e,r,s){s.d(r,{Z:function(){return t}});let t=s.p+"assets/images/databasetables1-6c09e7c5f6a914ec0e998f022b205815.png"},330761:function(e,r,s){s.d(r,{Z:function(){return t}});let t=s.p+"assets/images/databasetables2-0c94910f1375e7e4d11bff0c107b015a.png"},638649:function(e,r,s){s.d(r,{Z:function(){return t}});let t=s.p+"assets/images/docColumns-0d844bda8237df3b628fc71b9e0cad3d.png"},491503:function(e,r,s){s.d(r,{Z:function(){return c},a:function(){return i}});var t=s(275271);let n={},a=t.createContext(n);function i(e){let r=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(a.Provider,{value:r},e.children)}}}]);