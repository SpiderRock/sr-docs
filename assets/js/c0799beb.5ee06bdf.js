"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["12623"],{522895(e,s,r){r.r(s),r.d(s,{metadata:()=>i,default:()=>p,frontMatter:()=>l,contentTitle:()=>c,toc:()=>d,assets:()=>a});var i=JSON.parse('{"id":"Documentation/V8Migration/RiskV7toV8","title":"Risk Differences","description":"Accessing the Risk Controls","source":"@site/docs/Documentation/V8Migration/RiskV7toV8.md","sourceDirName":"Documentation/V8Migration","slug":"/Documentation/V8Migration/RiskV7toV8","permalink":"/docs/next/Documentation/V8Migration/RiskV7toV8","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Risk Differences","sidebar_position":2},"sidebar":"documentationSidebar","previous":{"title":"V7 to V8 Migration","permalink":"/docs/next/Documentation/V8Migration/"},"next":{"title":"Quant Differences","permalink":"/docs/next/Documentation/V8Migration/QuantV7toV8"}}'),t=r(886070),n=r(231832),o=r(607591);let l={title:"Risk Differences",sidebar_position:2},c,a={},d=[{value:"Accessing the Risk Controls",id:"accessing-the-risk-controls",level:2},{value:"Market Access Risk Controls (MAR)",id:"market-access-risk-controls-mar",level:2},{value:"MarRiskControl in V7",id:"marriskcontrol-in-v7",level:3},{value:"MarRiskControl in V8",id:"marriskcontrol-in-v8",level:3},{value:"MAR Risk Limits",id:"mar-risk-limits",level:3},{value:"1. Portfolio Risk Limits",id:"1-portfolio-risk-limits",level:4},{value:"2. Asset Class Enabled",id:"2-asset-class-enabled",level:4},{value:"3. Maximum Order Quantity",id:"3-maximum-order-quantity",level:4},{value:"4. Order Dollar Delta",id:"4-order-dollar-delta",level:4},{value:"5. The Collar Percentage",id:"5-the-collar-percentage",level:4},{value:"Specific Risk Limits for Futures",id:"specific-risk-limits-for-futures",level:3},{value:"Order Controls",id:"order-controls",level:4},{value:"SpdrRiskControl (Supervisory Risk Controls)",id:"spdrriskcontrol-supervisory-risk-controls",level:2},{value:"Supervisory Risk controls in V7",id:"supervisory-risk-controls-in-v7",level:3},{value:"SpdrRiskControl in V8",id:"spdrriskcontrol-in-v8",level:3},{value:"Control Panel",id:"control-panel",level:4},{value:"Day and Exposure Limits",id:"day-and-exposure-limits",level:4},{value:"MarRiskControlTkOverride",id:"marriskcontroltkoverride",level:2},{value:"Control Panel",id:"control-panel-1",level:4},{value:"Order Limit Panel",id:"order-limit-panel",level:4},{value:"Futures Position Limit",id:"futures-position-limit",level:4},{value:"MarRiskComposite",id:"marriskcomposite",level:2},{value:"Accessing MarRiskComposite Records",id:"accessing-marriskcomposite-records",level:3},{value:"User Types",id:"user-types",level:2}];function h(e){let s={a:"a",br:"br",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components},{NoteBanner:r}=s;return r||function(e,s){throw Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("NoteBanner",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"accessing-the-risk-controls",children:"Accessing the Risk Controls"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.a,{href:"https://spiderrockplatform.atlassian.net/wiki/spaces/CD/pages/38731784/Control+Viewer+CV",children:"Control Viewer (CV)"})," used in Version 7 (V7) for viewing and editing risk controls has been deprecated and replaced by the Portal Application in Version 8 (V8)."]}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj1.png",alt:"Portal Login"}),"\n",(0,t.jsx)(s.p,{children:"To access the risk controls in Portal:"}),"\n",(0,t.jsxs)("ol",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("p",{children:"Log in to SpiderRock Connect using either:"}),(0,t.jsxs)("ul",{style:{marginTop:"-2%"},children:[(0,t.jsxs)("li",{children:["The web: ",(0,t.jsx)("a",{href:"https://spiderrockconnect.com/portal",target:"_blank",children:(0,t.jsx)(s.a,{href:"https://spiderrockconnect.com/portal",children:"https://spiderrockconnect.com/portal"})})]}),(0,t.jsxs)("li",{children:["Or the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/Documentation/GettingStarted/#next-generation-tools--webapp-tool-suite",children:"installed desktop application"})]})]})]}),(0,t.jsx)("li",{children:"Once logged in, open the Portal Application."}),(0,t.jsx)("li",{children:"Click the Portal Icon to reveal the search bar."}),(0,t.jsx)("li",{children:'In the search bar, type "Risk Control". This will display the available types of risk controls that users can choose from:'})]}),"\n",(0,t.jsxs)(s.p,{children:["For this document, we will focus on ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControl/",children:(0,t.jsx)("i",{children:"MarRiskControl"})}),", ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/SpdrRiskControl/",children:(0,t.jsx)("i",{children:"SpdrRiskControl"})})," (previously Supervisory Risk Control in V7), and ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControlTkOverride/",children:(0,t.jsx)("i",{children:"MarRiskControlTkOverride"})}),", which can all be edited by Firm Risk Admins."]}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj2.png",alt:"Portal Navigation"}),"\n",(0,t.jsx)(s.h2,{id:"market-access-risk-controls-mar",children:"Market Access Risk Controls (MAR)"}),"\n",(0,t.jsxs)(s.p,{children:["Market access risk refers to the potential financial and regulatory exposures that arise when broker-dealers provide clients with direct access to financial markets. To address these risks, SpiderRock implements MAR Risk Controls that provide pre-trade validation, real-time monitoring, and multi-layered protection systems. These controls ensure compliance with SEC requirements while protecting both SpiderRock and its clients from excessive market exposure, allowing for safe and efficient market access with comprehensive risk management. For more information about MAR risk controls, please visit the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/Documentation/PlatformFeatures/OrderManagement/ExecutionRiskControl/",children:"Execution Risk Control"})," page or the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/Documentation/PlatformFeatures/OrderManagement/#integrated-mar-risk-controls",children:"Integrated MAR Risk Controls"})," page on this site."]}),"\n",(0,t.jsx)(s.h3,{id:"marriskcontrol-in-v7",children:"MarRiskControl in V7"}),"\n",(0,t.jsx)(s.p,{children:"In V7, the Market Access Risk tab is only visible to Client Risk Admins. The limits are global and are applied at the risk group level."}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj3.png",alt:"MarRiskControl rules and limits"}),"\n",(0,t.jsxs)(s.p,{children:["Under the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControl/",children:(0,t.jsx)("i",{children:"MarRiskControl"})}),' tab, double-clicking on any of the values in the grid or clicking on the "Add New" button (top-right corner) will bring the Order/Rules Limits window displayed in the inset. Authorized users can edit these rules and limits and post their changes by clicking on the box in the bottom-right corner of the window (see green check mark).']}),"\n",(0,t.jsx)(s.h3,{id:"marriskcontrol-in-v8",children:"MarRiskControl in V8"}),"\n",(0,t.jsxs)(s.p,{children:["In V8, ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControl/",children:(0,t.jsx)("i",{children:"MarRiskControl"})})," records are used to establish\u202Frisk controls within SpiderRock's execution engines. These records can only be edited by users who have been given explicit permissions by SpiderRock. Some MAR limits in V8 have been slightly modified from V7 and are explained in further detail below.",(0,t.jsx)(s.br,{}),"\n","Clicking on the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControl/",children:(0,t.jsx)("i",{children:"MarRiskControl"})})," chip filter (red area circled below) will display all existing records in a grid format. To create a new ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControl/",children:(0,t.jsx)("i",{children:"MarRiskControl"})}),' record, users must click on the plus symbol in the top right corner of the Portal and select "Add New Record" (see red arrow below).']}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj4.png",alt:"Adding a MarRiskControl record"}),"\n",(0,t.jsxs)(s.p,{children:["This opens the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControl/",children:(0,t.jsx)("i",{children:"MarRiskControl"})})," panel where users can set specific limits for different asset types. At the top of the panel (see the red area below), the user can input:"]}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Risk Firm: If it exists, it will be the client firm that is imposing the risk controls (It must be an existing SpiderRock client firm)."}),(0,t.jsx)("li",{children:"Risk Group: ID of the risk group these rules will apply to (It will usually be the client firm value unless a custom risk group has been applied)."}),(0,t.jsx)("li",{children:"Test Risk Group: If it is a test risk group, this control applies only to test accounts."})]}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj5.png",alt:"MarRiskControl control panel"}),"\n",(0,t.jsx)(s.h3,{id:"mar-risk-limits",children:"MAR Risk Limits"}),"\n",(0,t.jsx)(s.p,{children:"Within the MarRiskControl panel, users can expand or collapse multiple dropdown menus, each containing customizable features and limits to manage trading risk across asset types. The categories are:"}),"\n",(0,t.jsx)(s.h4,{id:"1-portfolio-risk-limits",children:"1. Portfolio Risk Limits"}),"\n",(0,t.jsx)(s.p,{children:"These controls apply to portfolio-level exposure (see yellow areas outlined above)."}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"Margin Limit Account:"})," Maximum net portfolio margin (start-of-day positions + day trades)."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"Margin Limit Day:"})," Maximum net day-only portfolio margin (day trades only)."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"Open Exposure Limit:"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Maximum absolute dollar delta of open child orders (no netting)."}),(0,t.jsxs)("li",{children:["Scope: Applies to open child orders only; evaluates directional exposure. ",(0,t.jsx)("b",{children:(0,t.jsx)("i",{children:"This differs from V7, where we apply a Total Exposure Limit, which was Margin + Open Orders."})})]})]})]})]}),"\n",(0,t.jsx)(s.h4,{id:"2-asset-class-enabled",children:"2. Asset Class Enabled"}),"\n",(0,t.jsx)(s.p,{children:"In V8, users can enable or disable trading by asset class (stocks, options, and futures) using a toggle switch (outlined in blue below). If set at none, the asset class will be disabled."}),"\n",(0,t.jsx)(s.h4,{id:"3-maximum-order-quantity",children:"3. Maximum Order Quantity"}),"\n",(0,t.jsx)(s.p,{children:"The maximum number of equity shares, option contracts, or futures contracts that can be bought or sold by a single parent order. See the red outlined areas below."}),"\n",(0,t.jsx)(r,{children:(0,t.jsx)(s.p,{children:"The maximum limit for equity shares is set at 100,000."})}),"\n",(0,t.jsx)(s.h4,{id:"4-order-dollar-delta",children:"4. Order Dollar Delta"}),"\n",(0,t.jsx)(s.p,{children:"This is the maximum amount of dollar delta for a single parent order for its asset (see the yellow areas outlined below). This feature is commonly used for setting risk thresholds to control exposure per parent order and for performing limit checks to ensure no single order creates excessive market risk. In V7, most of the order limits were expressed as notional values. In V8, the dollar delta limits are more prevalent."}),"\n",(0,t.jsx)(s.p,{children:"The following table shows the formulas used to calculate dollar deltas for different asset types:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Asset Type"}),(0,t.jsx)(s.th,{children:"Formula"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Stocks"}),(0,t.jsx)(s.td,{children:"shares * pointValue * midPrc"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Options"}),(0,t.jsx)(s.td,{children:"contracts * pointValue * ABS(de) * uMidPrc"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Futures"}),(0,t.jsx)(s.td,{children:"contracts * pointValue * midPrc"})]})]})]}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj6.png",alt:"MarRiskControl asset type risk limits"}),"\n",(0,t.jsx)(s.h4,{id:"5-the-collar-percentage",children:"5. The Collar Percentage"}),"\n",(0,t.jsx)(s.p,{children:"The collar percentage is a risk control parameter used to restrict order prices by defining a maximum allowable deviation between a user's submitted price and the current bid/ask prices in the market. It is expressed as a decimal number between 0 and 1 and is entirely new to Platform V8. See the green areas outlined above."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)("u",{children:(0,t.jsx)("i",{children:"Practical Example:"})})," The system rejects orders if the submitted price deviates from the bid/ask by more than the specified collar percentage. Let's assume the collar percentage is set to 0.05 (i.e., 5%).",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)(s.p,{children:"Then:"}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsxs)(s.p,{children:[(0,t.jsx)("b",{children:"Buy order"}),(0,t.jsx)("br",{}),"\nIf the best ask price for a stock is $100.00, the highest allowable buy price is: ",(0,t.jsx)("br",{}),"\n100 + (100 * 0.05) = $105.00 ",(0,t.jsx)("br",{}),"\nAny buy order > $105.00 would be rejected since it is outside of the collar."]})}),(0,t.jsx)("li",{children:(0,t.jsxs)(s.p,{children:[(0,t.jsx)("b",{children:"Sell order"}),(0,t.jsx)("br",{}),"\nIf the best bid is $100.00, the lowest allowable sell price is: ",(0,t.jsx)("br",{}),"\n100 - (100 * 0.05) = $95.00 ",(0,t.jsx)("br",{}),"\nAny sell order < $95.00 would be rejected as outside the collar."]})})]}),"\n",(0,t.jsx)(s.h3,{id:"specific-risk-limits-for-futures",children:"Specific Risk Limits for Futures"}),"\n",(0,t.jsxs)(s.p,{children:["The futures dropdown menu in the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControl/",children:(0,t.jsx)("i",{children:"MarRiskControl"})})," panel has additional fields specific to futures (see the red areas outlined below)."]}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj7.png",alt:"MarRiskControl future specific risk limits"}),"\n",(0,t.jsx)(s.p,{children:"Below is a detailed explanation of each field:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field"}),(0,t.jsx)(s.th,{children:"Definition"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxAccFutCnAbs"})})}),(0,t.jsx)(s.td,{children:"The maximum number of futures contracts the account can hold at any one time, counting both long and short positions, as a net value (includes start-of-day positions)."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayFutCnBot"})})}),(0,t.jsx)(s.td,{children:"The maximum number of futures contracts that can be bought during the trading day."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayFutCnSld"})})}),(0,t.jsx)(s.td,{children:"The maximum number of futures contracts that can be sold during the trading day."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayFutCnAbs"})})}),(0,t.jsx)(s.td,{children:"The maximum net number of contracts that can be open intraday, considering both buys and sells throughout the day."})]})]})]}),"\n",(0,t.jsx)(s.h4,{id:"order-controls",children:"Order Controls"}),"\n",(0,t.jsx)(s.p,{children:"Certain market orders can be configured using the order controls dropdown menu (see the red area outlined below). Only SpiderRock admins can edit these controls."}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj8.png",alt:"MarRiskControl order controls"}),"\n",(0,t.jsx)(s.p,{children:"Below is a detailed explanation of each field:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Control"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Allow Stk Odd Lots"}),(0,t.jsx)(s.td,{children:"Allows parent stock orders with an order size below 100 shares."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Allow Market on Close (MOC)"}),(0,t.jsx)(s.td,{children:"Enables submission of MOC orders, which are executed as close as possible to the market close at the final trading price of the day."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Allow Limit on Close (LOC)"}),(0,t.jsx)(s.td,{children:"Similar to MOC but includes a price limit. The order will only execute at the closing price if it is at or better than the specified limit."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Allow ISO Sweep Orders"}),(0,t.jsxs)(s.td,{children:["Enables Intermarket Sweep Orders (ISO): market orders that allow traders to bypass the Order Protection Rule (",(0,t.jsx)(s.a,{href:"https://www.sec.gov/spotlight/emsac/memo-rule-611-regulation-nms.pdf",children:"Rule 611"}),") and access liquidity on other exchanges immediately."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Block Short Sales (Block SSales)"}),(0,t.jsx)(s.td,{children:"Completely blocks any short sale orders, regardless of asset type."})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"spdrriskcontrol-supervisory-risk-controls",children:"SpdrRiskControl (Supervisory Risk Controls)"}),"\n",(0,t.jsxs)(s.p,{children:["SpdrRiskControls, previously referred to as supervisory risk controls in V7, are tactical controls that allow the user to set tighter restrictions at the account, symbol, and user levels. They can constrain child orders and, when needed, reject parent orders to keep risk within defined parameters. For more information about these controls, please visit the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/Documentation/PlatformFeatures/OrderManagement/ExecutionRiskControl/",children:" Execution Risk Controls"})," page or the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/Documentation/PlatformFeatures/OrderManagement/#integrated-supervisory-risk-controls",children:"Integrated Supervisory Risk Controls"})," page on this site."]}),"\n",(0,t.jsx)(s.h3,{id:"supervisory-risk-controls-in-v7",children:"Supervisory Risk controls in V7"}),"\n",(0,t.jsx)(s.p,{children:"In V7, supervisory risk controls can be found under the Supervisory Risk tab in the Control Viewer. This tab allows the user to set risk controls at the symbol, user, or user/symbol level."}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj9.png",alt:"Supervisory controls in Citrix"}),"\n",(0,t.jsx)(s.p,{children:"Double-clicking any value in the grid or clicking on the \u201CAdd New\u201D button (top-right corner) will open the Order Limits window displayed above. Users can edit their order and day limits by clicking the corresponding tabs. To save, users select Post Changes in the lower right-hand corner of the window."}),"\n",(0,t.jsx)(s.h3,{id:"spdrriskcontrol-in-v8",children:"SpdrRiskControl in V8"}),"\n",(0,t.jsxs)(s.p,{children:["In V8, the supervisory risk controls have been condensed into the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/SpdrRiskControl/",children:(0,t.jsx)("i",{children:"SpdrRiskControl"})})," table within the Portal Application."]}),"\n",(0,t.jsxs)(s.p,{children:["After clicking the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/SpdrRiskControl/",children:(0,t.jsx)("i",{children:"SpdrRiskControl"})})," chip filter (red area circled below), existing records will be visible in a grid format. To create a new ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/SpdrRiskControl/",children:(0,t.jsx)("i",{children:"SpdrRiskControl"})}),' record, users must click on the plus symbol in the top right corner of the Portal application and select "Add New Record" (see red arrow below).']}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj10.png",alt:"Adding a record in SpdrRiskControl"}),"\n",(0,t.jsx)(s.p,{children:"This opens the control panel where users can edit certain limits and apply various controls at the client firm, symbol, user, and account levels. At the top of the panel (see the red outline below), the user can input:"}),"\n",(0,t.jsx)("ul",{children:(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"Ticker:"})," Must be formatted as TK-TS-AT (Ticker Symbol; Ticker Source; Asset Type)"]})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field"}),(0,t.jsx)(s.th,{children:"Definition"}),(0,t.jsx)(s.th,{children:"Values"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Ticker Symbol"}),(0,t.jsx)(s.td,{children:"Unique series of letters or characters used to identify a publicly traded security on a specific exchange (e.g., TSLA for Tesla)."}),(0,t.jsxs)(s.td,{children:["'*",(0,t.jsx)(s.strong,{children:"-ANY-ANY"}),"' is the default ticker symbol (if a more precise ticker control has not been set). It applies all the user\u2019s limits to every symbol for a specific account."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Ticker Source"}),(0,t.jsx)(s.td,{children:"Origin or provider of the underlying market data used to price, quote, and manage trades for a given security or derivative."}),(0,t.jsxs)(s.td,{children:["NMS, CME, CBOT, COMEX, NYMEX, CFE (All listed US equity, equity option, and index options will fall under the ticker source ",(0,t.jsx)(s.strong,{children:"NMS"}),")."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Asset Type"}),(0,t.jsx)(s.td,{children:"Underlying financial instrument that the option contract is based on."}),(0,t.jsx)(s.td,{children:"EQT, FUT"})]})]})]}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"Risk Control Level:"})," User has the choice to set this at the clientFirm, account, user, or user/account level."]}),(0,t.jsxs)("li",{children:[(0,t.jsxs)(s.p,{children:[(0,t.jsx)("b",{children:"Risk Control Key:"})," Depends upon which risk control level is selected."]}),(0,t.jsxs)("ul",{style:{marginTop:"-2%"},children:[(0,t.jsx)("li",{children:"If set at the clientFirm level, the risk control key is ignored."}),(0,t.jsx)("li",{children:"If set at the account level, the risk control key must be a SpiderRock client account (e.g., t.test)."}),(0,t.jsx)("li",{children:"If set at the user level, the risk control key must be a SpiderRock user (e.g., cf.username)."}),(0,t.jsxs)("li",{children:["If set at the user/account level, the risk control key must be a SpiderRock user and a SpiderRock client account separated by a colon (e.g., cf.username",":t",".test)."]})]})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"Risk Firm:"})," Client firm imposing risk controls (It should be an existing SpiderRock Client Firm)."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("b",{children:"Is Test Account:"})," Determines whether the account is a test account or not."]})]}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj11.png",alt:"SpdrRiskControl control panel"}),"\n",(0,t.jsx)(s.h4,{id:"control-panel",children:"Control Panel"}),"\n",(0,t.jsx)(s.p,{children:"Users can enable or disable stocks, futures, and options within the Control Panel (see the yellow area outlined above). The CloseOnly setting allows users to close out existing positions. For example, if you are long 5,000 shares of AAPL, you can sell up to 5,000 shares to close the position, but you cannot buy any additional shares. This functionality replaces the MarRestrictedList feature from V7."}),"\n",(0,t.jsx)(s.h4,{id:"day-and-exposure-limits",children:"Day and Exposure Limits"}),"\n",(0,t.jsx)(s.p,{children:"To configure daily trading risk thresholds, users can set limits in the day limit panel. These limits apply to each trading session and are monitored in real-time to manage exposure across accounts (see the red outlined area below)."}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj12.png",alt:"SpdrRiskControl limits"}),"\n",(0,t.jsx)(s.p,{children:"Users can also enter an Open Exposure Limit in the exposure limit panel (see the yellow area outlined above). This limit caps the total dollar exposure from all pending orders, regardless of whether they're long or short positions. The values are cumulative and not netted across a symbol.\xa0"}),"\n",(0,t.jsx)(s.p,{children:"Below is a detailed explanation of each field in the day and exposure limit panels:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Definition"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"marginLimitDay"})})}),(0,t.jsx)(s.td,{children:"Maximum net (per symbol/day) day portfolio (day trades only) margin (can include external sources)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayDDeltaLn"})})}),(0,t.jsx)(s.td,{children:"Open long dollar delta per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayDDeltaSh"})})}),(0,t.jsx)(s.td,{children:"Open short dollar delta per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayDDeltaAbs"})})}),(0,t.jsx)(s.td,{children:"Absolute dollar delta, |ddBot| + |ddSld| position per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayWtVegaLn"})})}),(0,t.jsx)(s.td,{children:"Open long WtVega (weighted time vega) per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayWtVegaSh"})})}),(0,t.jsx)(s.td,{children:"Open short WtVega per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayWtVegaAbs"})})}),(0,t.jsx)(s.td,{children:"Open absolute WtVega, |WtVeBot| + |WtVeSld| per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayNValueLn"})})}),(0,t.jsx)(s.td,{children:"Open long notional value per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayNValueSh"})})}),(0,t.jsx)(s.td,{children:"Open short notional value per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayNValueAbs"})})}),(0,t.jsx)(s.td,{children:"Absolute notional value, |NValueBot| + |NValueSld| per trading session"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"openExposureLimit"})})}),(0,t.jsx)(s.td,{children:"Maximum abs open child order $Delta (no netting) (open child orders only)"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"Where WtVega = Weighted Time Vega (time-decayed measure of volatility exposure). WtVega considers both the vega of an option and its time to expiration, weighted accordingly."}),"\n",(0,t.jsx)(s.h2,{id:"marriskcontroltkoverride",children:"MarRiskControlTkOverride"}),"\n",(0,t.jsxs)(s.p,{children:["In V8, we've introduced the ability to add symbol-specific limits at the MAR level. ",(0,t.jsxs)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControlTkOverride/",children:[(0,t.jsx)("i",{children:"MarRiskControlTkOverride"})," "]})," records are used to establish ticker-specific risk controls within SpiderRock's execution engines. These records are only viewable and editable by users belonging to the same risk firm as the control records."]}),"\n",(0,t.jsxs)(s.p,{children:["After clicking on the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControlTkOverride/",children:(0,t.jsx)("i",{children:"MarRiskControlTkOverride"})})," chip filter (red area circled below), existing records will be visible in a grid format. To create a new ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControlTkOverride/",children:(0,t.jsx)("i",{children:"MarRiskControlTkOverride"})}),' record, users must click on the plus symbol in the top right corner of the Portal application and select "Add New Record" (see red arrow below).']}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj13.png",alt:"Adding a MarRiskControlTkOverride record"}),"\n",(0,t.jsxs)(s.p,{children:["This opens the control panel, which allows users to configure nearly all the same risk parameters and limits available in ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/risk-control/MarRiskControl/",children:(0,t.jsx)("i",{children:"MarRiskControl"})}),", with the added functionality of setting symbol-specific limits. At the top of the panel (outlined in red below), users can input the following fields:"]}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Risk Firm"}),(0,t.jsx)("li",{children:"Risk Group"}),(0,t.jsx)("li",{children:"Test Account Indicator (Yes/No)"}),(0,t.jsx)("li",{children:"Ticker"})]}),"\n",(0,t.jsx)(s.p,{children:"The ticker field must be formatted as TK-TS-AT (Ticker Symbol; Ticker Source; Asset Type)."}),"\n",(0,t.jsx)(s.h4,{id:"control-panel-1",children:"Control Panel"}),"\n",(0,t.jsx)(s.p,{children:"Users can enable or disable stocks, futures, and options in the control panel (see the yellow area outlined below). They can also block short sales."}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj14.png",alt:"MarRiskControlTkOverride controls"}),"\n",(0,t.jsx)(s.h4,{id:"order-limit-panel",children:"Order Limit Panel"}),"\n",(0,t.jsxs)(s.p,{children:["Users can set the order quantity, dollar delta, and collar percentage for stocks, futures, and options in this panel (red area outlined below). For detailed definitions of these fields, please refer to the ",(0,t.jsx)(s.a,{href:"#mar-risk-limits",children:"MAR Risk Limits"})," section of this guide."]}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj15.png",alt:"MarRiskControlTkOverride limits"}),"\n",(0,t.jsx)(s.h4,{id:"futures-position-limit",children:"Futures Position Limit"}),"\n",(0,t.jsx)(s.p,{children:"The user can set these specific position limits for futures (see the yellow area above):"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field"}),(0,t.jsx)(s.th,{children:"Definition"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxAccFutCnAbs"})})}),(0,t.jsx)(s.td,{children:"Maximum total number of futures contracts\u2014regardless of direction (bought or sold)\u2014that the account can hold at any given time."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayFutCnBot"})})}),(0,t.jsx)(s.td,{children:"Maximum number of futures contracts the account is allowed to buy during the trading day."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayFutCnSld"})})}),(0,t.jsx)(s.td,{children:"Maximum number of futures contracts the account can sell during the trading day."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"maxDayFutCnAbs"})})}),(0,t.jsx)(s.td,{children:"Maximum net total number of futures contracts that the account can trade during the day (buying and selling combined)."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"The user can publish the record by clicking on the blue button in the bottom right corner of the panel (see the red arrow above)."}),"\n",(0,t.jsx)(s.h2,{id:"marriskcomposite",children:"MarRiskComposite"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/8.5.5.1/MessageSchemas/Schema/Topics/risk-counter/MarRiskComposite/",children:(0,t.jsx)("i",{children:"MarRiskComposite"})})," feature is entirely new to V8. It combines the ",(0,t.jsxs)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/SRSE%20Products/SRControl/MarRiskControl/",children:[(0,t.jsx)("i",{children:"MarRiskControl"})," "]})," and the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/SRSE%20Products/SRControl/MarRiskCounter/",children:(0,t.jsx)("i",{children:"MarRiskCounter"})}),", allowing the user to easily view their MAR risk limits and counters all in one place. This table is ",(0,t.jsx)(s.strong,{children:"NOT"}),' editable; it is for viewing only. To access this feature, click the portal icon in the top-left corner of the application, type "MarRiskComposite" in the search bar, and select it.']}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj16.png",alt:"Accessing MarRiskComposite"}),"\n",(0,t.jsx)(s.h3,{id:"accessing-marriskcomposite-records",children:"Accessing MarRiskComposite Records"}),"\n",(0,t.jsxs)(s.p,{children:["To view existing records, users can click the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/8.5.5.1/MessageSchemas/Schema/Topics/risk-counter/MarRiskComposite/",children:(0,t.jsx)("i",{children:"MarRiskComposite"})})," chip filter (see the red circle below). This action will display all available records in a grid view. From the grid, selecting any record will open the control panel, where all configuration details can be viewed."]}),"\n",(0,t.jsx)(s.p,{children:"Users can view but not modify the ticker, risk group, risk firm, and test account toggle as well as the portfolio risk limits (outlined in red below)."}),"\n",(0,t.jsx)(o.B,{src:"/images/RiskV7toV8/RiskProj17.png",alt:"MarRiskComposite record"}),"\n",(0,t.jsx)(s.p,{children:"Below is a detailed explanation of each field within the portfolio risk limits:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field Name"}),(0,t.jsx)(s.th,{children:"Definition"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"marginLimitDay"})})}),(0,t.jsx)(s.td,{children:"Maximum net day portfolio (day trades only) margin (can include external sources)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"dayMarginUDnVDn"})})}),(0,t.jsx)(s.td,{children:"Day margin (UPrcDn/VolDn)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"dayMarginUUpVUp"})})}),(0,t.jsx)(s.td,{children:"Day margin (UPrcUp/VolUp)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"dayMarginUUpVDn"})})}),(0,t.jsx)(s.td,{children:"Day margin (UPrcUp/VolDn)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"dayMarginUDnVUp"})})}),(0,t.jsx)(s.td,{children:"Day margin (UPrcDn/VolUp)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"marginLimitAcc"})})}),(0,t.jsx)(s.td,{children:"Maximum net total portfolio (start-of-day positions + day trades) margin (can include external sources)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"accMarginUDnVDn"})})}),(0,t.jsx)(s.td,{children:"Acc margin (UPrcDn/VolDn)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"accMarginUDnVUp"})})}),(0,t.jsx)(s.td,{children:"Acc margin (UPrcDn/VolUp)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"accMarginUUpVDn"})})}),(0,t.jsx)(s.td,{children:"Acc margin (UPrcUp/VolDn)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"accMarginUUpVUp"})})}),(0,t.jsx)(s.td,{children:"Acc margin (UPrcUp/VolUp)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"openExposureLimit"})})}),(0,t.jsx)(s.td,{children:"Maximum abs open child order $Delta (no netting) (open child orders only)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.strong,{children:"liveOpenExposure"})})}),(0,t.jsx)(s.td,{children:"Live abs open child order $Delta (no netting) (open child orders only)"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:["Users can also view the stock, option, and futures risk limits in the control panel. For detailed definitions of these fields, please refer to the ",(0,t.jsx)(s.a,{href:"#mar-risk-limits",children:"MAR Risk Limits"})," section of this guide."]}),"\n",(0,t.jsx)(s.h2,{id:"user-types",children:"User Types"}),"\n",(0,t.jsxs)(s.p,{children:["SpiderRock facilitates the classification of different types of users so that firms can control who has oversight over which process. To see which V7 user types have been deprecated or changed, please reference the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/Documentation/PlatformFeatures/ClientConfiguration/#v7-to-v8-differences",children:"documentation site here."})]}),"\n",(0,t.jsxs)(s.p,{children:["In V8, SpiderRock has introduced six distinct user types that offer significantly more customization compared to V7: Sponsor Admin, SponsorUser, ClientAdmin, ClientUser, SRSEUser, and M2MUser. To view the description of these user types, please reference the ",(0,t.jsx)("a",{href:"https://docs.spiderrockconnect.com/docs/next/Documentation/PlatformFeatures/ClientConfiguration/#user-types",children:"documentation site here."})]})]})}function p(e={}){let{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},607591(e,s,r){r.d(s,{B:()=>n});var i=r(886070),t=r(830758);let n=({src:e,alt:s,className:r})=>{let[n,o]=(0,t.useState)(!1),l=()=>o(!1);return t.useEffect(()=>{let e=e=>{"Escape"===e.key&&l()};return n&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:e,alt:s,className:`image-lightbox-thumbnail ${r||""}`,onClick:()=>o(!0),style:{cursor:"pointer"}}),n&&(0,i.jsx)("div",{className:"image-lightbox-overlay",onClick:l,children:(0,i.jsxs)("div",{className:"image-lightbox-content",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:"image-lightbox-close",onClick:l,"aria-label":"Close",children:"\xd7"}),(0,i.jsx)("img",{src:e,alt:s,className:"image-lightbox-image"})]})})]})}},231832(e,s,r){r.d(s,{R:()=>o,x:()=>l});var i=r(830758);let t={},n=i.createContext(t);function o(e){let s=i.useContext(n);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(n.Provider,{value:s},e.children)}}}]);