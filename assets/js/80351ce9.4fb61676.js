"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["89794"],{669563(e,r,s){s.r(r),s.d(r,{metadata:()=>n,default:()=>p,frontMatter:()=>c,contentTitle:()=>l,toc:()=>o,assets:()=>d});var n=JSON.parse('{"id":"Documentation/PlatformAPIs/SRSE/SRTrade","title":"SR Trade","description":"Overview","source":"@site/docs/Documentation/PlatformAPIs/SRSE/2.SRTrade.md","sourceDirName":"Documentation/PlatformAPIs/SRSE","slug":"/Documentation/PlatformAPIs/SRSE/SRTrade","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRTrade","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"SR Trade","sidebar_position":2},"sidebar":"documentationSidebar","previous":{"title":"SR Analytics","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRAnalytics"},"next":{"title":"SR Live","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRLive"}}'),t=s(886070),a=s(231832),i=s(607591);let c={title:"SR Trade",sidebar_position:2},l,d={},o=[{value:"Overview",id:"overview",level:2},{value:"SR Trade Tables",id:"sr-trade-tables",level:2},{value:"Query Examples",id:"query-examples",level:2},{value:"Inserting Orders",id:"inserting-orders",level:3},{value:"Monitoring Orders",id:"monitoring-orders",level:3},{value:"Cancelling Orders",id:"cancelling-orders",level:3}];function m(e){let r={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(r.p,{children:"The SR Trade database provides comprehensive order management capabilities through SQL queries. It enables users to input orders, view fills, and monitor working orders. Users can also programmatically cancel orders and configure customized auto-hedge settings and metrics for programmatic trading. Key features include:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"SpiderRock Connect equity, option, and future parent order management"}),"\n",(0,t.jsx)(r.li,{children:"Parent order executions and reports"}),"\n",(0,t.jsx)(r.li,{children:"Multi-leg parent order management"}),"\n",(0,t.jsx)(r.li,{children:"Upload away executions (drops)"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"sr-trade-tables",children:"SR Trade Tables"}),"\n",(0,t.jsx)(r.p,{children:"The following images show the available tables in SR Trade:"}),"\n",(0,t.jsx)(i.B,{src:"/images/PlatformAPIs/SRSE/SRTrade/databasetables1.png",alt:"SR Trade Tables"}),"\n",(0,t.jsx)(i.B,{src:"/images/PlatformAPIs/SRSE/SRTrade/databasetables2.png",alt:"SR Trade Tables"}),"\n",(0,t.jsx)(r.h2,{id:"query-examples",children:"Query Examples"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 1:"})," Retrieve definitions for any table with the ",(0,t.jsx)(r.strong,{children:"docColumns"})," query below. It is especially useful when navigating through the different tables in the SR Trade database."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM srtrade.doccolumns \nWHERE TABLE_NAME='msgparentordergateway'\nORDER BY ordinal_position ASC;\n"})}),"\n",(0,t.jsx)(i.B,{src:"/images/PlatformAPIs/SRSE/SRTrade/docColumns.png",alt:"Doc Columns"}),"\n",(0,t.jsx)(r.h3,{id:"inserting-orders",children:"Inserting Orders"}),"\n",(0,t.jsxs)(r.p,{children:["Orders (option, stock, future) are inserted into the system via the ",(0,t.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/srse-gateway/ParentOrderGateway/",children:(0,t.jsx)(r.em,{children:"ParentOrderGateway"})})," table. There are many different fields and variables that can be used for different order types. The examples below demonstrate the simplest order parameters."]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 2:"})," Insert an option order:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergateway \n  (seckey_at, seckey_ts, seckey_tk, seckey_yr, seckey_mn, seckey_dy, seckey_xx, seckey_cp, sectype, \n   orderSize, orderActiveSize, accnt, clientFirm, spdrActionType, groupingCode, orderSide, \n   marketSession, orderDuration, orderLimitType, orderVolLimit, parentOrderHandling, \n   parentBalanceHandling, takeLimitClass, makeLimitClass, autoHedge, riskGroupId, traderName, CHECKSUM)\nVALUES \n  ('EQT', 'NMS', 'NVDA', 2025, 10, 17, 180, 'Put', 'Option', 35, -1, 'T.ACCNT', 'SRCORE', \n   'AddReplace', '0000-0000-0000-0042', 'Buy', 'RegMkt', 400, 'VolX', 0.34, 'ActiveTaker', \n   'PostLimit', 'Simple', 'Simple', 'None', '0000-0000-0000-0028', 'user.name', 13);\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 3:"})," Insert a stock order:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergateway \n  (accnt, clientFirm, groupingCode, spdrActionType, sectype, seckey_at, seckey_ts, seckey_tk, \n   seckey_yr, seckey_mn, seckey_dy, seckey_xx, seckey_cp, orderSide, orderSize, \n   parentOrderHandling, parentBalanceHandling, orderLimitType, orderPrcLimit, marketSession, \n   traderName, riskGroupId, CHECKSUM)\nVALUES \n  ('T.ACCNT', 'SRCORE', '0000-0000-0000-0043', 'AddReplace', 'Stock', 'EQT', 'NMS', 'SPY', \n   2000, 0, 0, 0, 'Call', 'Buy', 1000, 'ActiveTaker', 'PostLimit', 'Prc', 681, 'RegPostMkt', \n   'user.name', '0000-0000-0000-0043', 13);\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 4:"})," Insert a futures order:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergateway \n  (accnt, clientFirm, groupingCode, spdrActionType, sectype, seckey_at, seckey_ts, seckey_tk, \n   seckey_yr, seckey_mn, seckey_dy, seckey_xx, seckey_cp, orderSide, orderSize, \n   parentOrderHandling, parentBalanceHandling, orderLimitType, orderPrcLimit, marketSession, \n   traderName, riskGroupId, CHECKSUM)\nVALUES \n  ('T.ACCNT', 'SRCORE', '0000-0000-0000-0045', 'AddReplace', 'Future', 'FUT', 'CME', 'ES', \n   2025, 12, 19, 0, 'Call', 'Buy', 1000, 'ActiveTaker', 'PostLimit', 'Prc', 6711, 'RegPostMkt', \n   'user.name', '0000-0000-0000-0045', 13);\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 5:"})," Insert an option order with futures hedging:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergateway \n  (seckey_at, seckey_ts, seckey_tk, seckey_yr, seckey_mn, seckey_dy, seckey_xx, seckey_cp, sectype, \n   orderSize, accnt, clientFirm, spdrActionType, groupingCode, orderSide, marketSession, \n   orderDuration, orderActiveSize, orderLimitType, parentOrderHandling, parentBalanceHandling, \n   takeLimitClass, makeLimitClass, autoHedge, hedgeInstrument, hedgeSeckey_at, hedgeSeckey_ts, \n   hedgeSeckey_tk, hedgeSeckey_yr, hedgeSeckey_mn, hedgeSeckey_dy, riskGroupId, traderName, CHECKSUM)\nVALUES \n  ('EQT', 'NMS', 'SPX', 2025, 10, 17, 6900, 'Put', 'Option', 908, 'T.ACCNT', 'SRCORE', \n   'AddReplace', '0000-0000-0000-0032', 'Buy', 'RegMkt', -1, 0, 'Market', 'ActiveTaker', \n   'PostLimit', 'Surface', 'Surface', 'SpdrAuto', 'Future', 'FUT', 'CME', 'ES', 2025, 12, 19, \n   '0000-0000-0000-0032', 'user.name', 13);\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 6:"})," Insert a multi-leg order into the Complex Order Book using the ",(0,t.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/srse-gateway/ParentOrderGatewayExt/",children:(0,t.jsx)(r.em,{children:"ParentOrderGatewayExt"})})," table:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srtrade.msgparentordergatewayext \n  (accnt, clientFirm, spdrActionType, orderSize, marketSession, orderDuration, seckey_at, \n   seckey_ts, seckey_tk, sectype, orderSide, startType, parentOrderHandling, parentBalanceHandling, \n   takeLimitClass, maxExposureSize, maxCompletionSlippage, orderLimitType, orderPrcLimit, \n   optPremium, leadSide, traderName, mlegNumLegs, CHECKSUM, autoHedge, orderActiveSize, \n   mlegSeckey1_at, mlegSeckey1_ts, mlegSeckey1_tk, mlegSeckey1_yr, mlegSeckey1_mn, mlegSeckey1_dy, \n   mlegSeckey1_xx, mlegSeckey1_cp, mlegSectype1, mlegMult1, mlegSide1, mlegLegId1, mlegPosType1, \n   mlegSeckey2_at, mlegSeckey2_ts, mlegSeckey2_tk, mlegSeckey2_yr, mlegSeckey2_mn, mlegSeckey2_dy, \n   mlegSeckey2_xx, mlegSeckey2_cp, mlegSectype2, mlegMult2, mlegSide2, mlegLegId2, mlegPosType2, \n   groupingCode, riskGroupId)\nVALUES \n  ('T.ACCNT', 'SRCORE', 'AddReplace', 100, 'RegMkt', 600, 'EQT', 'NMS', 'AAPL', 'Mleg', 'Buy', \n   'None', 'SeekerLegger', 'PostLimit', 'Simple', 10, 0.5, 'Prc', 10.00, 10.00, 'Buy', \n   'user.name', 2, 13, 'SpdrAuto', -1, 'EQT', 'NMS', 'AAPL', 2025, 10, 17, 255, 'Call', \n   'Option', 1, 'Buy', 1, 'Auto', 'EQT', 'NMS', 'AAPL', 2025, 10, 17, 255, 'Put', 'Option', \n   1, 'Buy', 2, 'Auto', '1200-1000-0001-1140', '0120-0000-1001-1140');\n"})}),"\n",(0,t.jsx)(r.h3,{id:"monitoring-orders",children:"Monitoring Orders"}),"\n",(0,t.jsx)(r.p,{children:"The following queries enable users to monitor orders in held or working states."}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 7:"})," Monitor orders in a hold state:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"DESCRIBE srtrade.msgsrparentbrkrstate;\n\nSELECT accnt, groupingCode, riskGroupId, seckey_tk, seckey_yr, seckey_mn, seckey_dy, \n       seckey_xx, seckey_cp, sectype, orderSide, orderSize, orderActiveSize, cumFillQuantity, \n       makeState, takeState, riskLimitDesc, riskLimitSize, spdrBrokerStatus, spdrCloseReason, \n       spdrRejectReason\nFROM srtrade.msgsrparentbrkrstate a\nWHERE accnt = 'T.ACCNT' AND riskLimitDesc != 'Activesize' AND riskLimitSize = 0 AND spdrBrokerStatus = 'Active';\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 8:"})," Monitor working orders and child orders in the market:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"SELECT accnt, groupingCode, riskGroupId, seckey_tk, seckey_yr, seckey_mn, seckey_dy, \n       seckey_xx, seckey_cp, sectype, orderSide, orderSize, orderActiveSize, cumFillQuantity, \n       makeState, takeState, riskLimitDesc, riskLimitSize, spdrBrokerStatus, spdrCloseReason, \n       spdrRejectReason, csz1, cpx1\nFROM srtrade.msgsrparentbrkrstate a\nWHERE accnt = 'T.ACCNT' AND riskLimitSize != 0 AND spdrBrokerStatus = 'Active';\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 9:"})," Monitor orders in all states:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"SELECT spdrBrokerStatus, spdrOrderStatus, spdrCloseReason, spdrRejectReason, makeState, \n       riskLimitSize, riskLimitDesc, orderActiveSize, csz1, st.*\nFROM srtrade.msgsrparentbrkrstate st\nWHERE accnt = 'T.ACCNT';\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 10:"})," View fills programmatically or retrieve fill data for calculating your own TCA metrics with the query below:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"SELECT accnt, execStatus, seckey_tk, seckey_yr, seckey_mn, seckey_dy, seckey_xx, seckey_cp, \n       sectype, fillQuantity, fillPrice, fillDttm, a.*\nFROM srtrade.msgsrparentexecution a\nWHERE accnt = 'T.ACCNT';\n"})}),"\n",(0,t.jsx)(r.h3,{id:"cancelling-orders",children:"Cancelling Orders"}),"\n",(0,t.jsx)(r.p,{children:"The ability to quickly cancel single or multiple orders is essential. The following queries demonstrate how to perform these actions."}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 11:"})," Cancel all orders across multiple accounts (all accounts must belong to the same client firm):"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM srtrade.msgspdrusercancel;\n\nREPLACE INTO srtrade.msgspdrusercancel\nVALUES ('user.name', 'SR', 'CancelAll', 'user.name', NOW(), 0);\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 12:"})," Cancel all orders within a single account (emergency cancel all):"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"DESCRIBE srtrade.msgsraccntcancel;\n\nREPLACE INTO srtrade.msgsraccntcancel (accnt, cxlReason, altCancelId, username, TIMESTAMP)\nVALUES ('T.ACCNT', 'TEST', 'NONE', 'user.name', NOW());\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Sample Query 13:"})," Cancel specific orders (or all orders for a symbol). Pull information from ",(0,t.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/parent-orders/SpdrParentBrkrState/",children:(0,t.jsx)(r.em,{children:"SpdrParentBrkrState"})})," to filter as needed:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-sql",children:"DESCRIBE srtrade.msgsrparentcancel;\nDESCRIBE srtrade.msgsrparentbrkrstate;\n\nREPLACE INTO srtrade.msgsrparentcancel \n  (accnt, parentNumber, cxlReason, altCancelId, username, TIMESTAMP, timestamp_us)\n(SELECT accnt, parentNumber, 'Test', 1234, 'user.name', NOW(), 0\n FROM srtrade.msgsrparentbrkrstate\n WHERE accnt = 'T.ACCNT' AND seckey_tk = 'SPY' AND sectype = 'Stock' AND spdrOrderStatus != 'Closed');\n"})})]})}function p(e={}){let{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},607591(e,r,s){s.d(r,{B:()=>a});var n=s(886070),t=s(830758);let a=({src:e,alt:r,className:s})=>{let[a,i]=(0,t.useState)(!1),c=()=>i(!1);return t.useEffect(()=>{let e=e=>{"Escape"===e.key&&c()};return a&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[a]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:e,alt:r,className:`image-lightbox-thumbnail ${s||""}`,onClick:()=>i(!0),style:{cursor:"pointer"}}),a&&(0,n.jsx)("div",{className:"image-lightbox-overlay",onClick:c,children:(0,n.jsxs)("div",{className:"image-lightbox-content",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("button",{className:"image-lightbox-close",onClick:c,"aria-label":"Close",children:"\xd7"}),(0,n.jsx)("img",{src:e,alt:r,className:"image-lightbox-image"})]})})]})}},231832(e,r,s){s.d(r,{R:()=>i,x:()=>c});var n=s(830758);let t={},a=n.createContext(t);function i(e){let r=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);