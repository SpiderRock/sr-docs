"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["26537"],{129188(e,s,i){i.r(s),i.d(s,{metadata:()=>n,default:()=>p,frontMatter:()=>l,contentTitle:()=>c,toc:()=>d,assets:()=>o});var n=JSON.parse('{"id":"Documentation/PlatformAPIs/SRSE/SRAnalytics","title":"SR Analytics","description":"Overview","source":"@site/docs/Documentation/PlatformAPIs/SRSE/1.SRAnalytics.md","sourceDirName":"Documentation/PlatformAPIs/SRSE","slug":"/Documentation/PlatformAPIs/SRSE/SRAnalytics","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRAnalytics","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"SR Analytics","sidebar_position":1},"sidebar":"documentationSidebar","previous":{"title":"SRSE","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/"},"next":{"title":"SR Trade","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRTrade"}}'),t=i(886070),a=i(149531),r=i(607591);let l={title:"SR Analytics",sidebar_position:1},c,o={},d=[{value:"Overview",id:"overview",level:2},{value:"SR Analytics Tables",id:"sr-analytics-tables",level:2},{value:"Query Examples",id:"query-examples",level:2},{value:"LiveImpliedQuoteAdjust Table",id:"liveimpliedquoteadjust-table",level:3},{value:"OptionQuoteProbability Table",id:"optionquoteprobability-table",level:3},{value:"OptionPrintSet Table",id:"optionprintset-table",level:3},{value:"Live Surface ATM &amp; Live Surface Curve Tables",id:"live-surface-atm--live-surface-curve-tables",level:3},{value:"Global Rates, Dividends, and Stock Earnings Calendar Tables",id:"global-rates-dividends-and-stock-earnings-calendar-tables",level:3},{value:"Stock Dividend Detail Table",id:"stock-dividend-detail-table",level:3},{value:"Definition Tables",id:"definition-tables",level:3}];function h(e){let s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(s.p,{children:"SR Analytics provides access to comprehensive market data and analytics through SQL queries. Key features include:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Live and prior day SpiderRock Connect volatility surfaces"}),"\n",(0,t.jsx)(s.li,{children:"Live and prior day implied volatilities and Greeks"}),"\n",(0,t.jsx)(s.li,{children:"Rate curve, dividend, and earnings estimates"}),"\n",(0,t.jsx)(s.li,{children:"Historical underlying volatility tables"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"sr-analytics-tables",children:"SR Analytics Tables"}),"\n",(0,t.jsx)(s.p,{children:"The following images show the available tables in SR Analytics:"}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/DatabaseTables1.png",alt:"SRAnalytics Tables"}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/DatabaseTables2.png",alt:"SRAnalytics Tables"}),"\n",(0,t.jsx)(s.h2,{id:"query-examples",children:"Query Examples"}),"\n",(0,t.jsx)(s.h3,{id:"liveimpliedquoteadjust-table",children:"LiveImpliedQuoteAdjust Table"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/analytics/LiveImpliedQuoteAdj/",children:(0,t.jsx)(s.em,{children:"LiveImpliedQuoteAdj"})})," table is the most heavily used table within SR Analytics. It contains option NBBO data, the midpoint of the underlying, the SpiderRock volatility surface, and all corresponding Greeks."]}),"\n",(0,t.jsx)(s.p,{children:"This table is primarily used for scanning trade ideas and calculating client-specific PnL values. There are two calculation sources for this table:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Loop process"}),": Updates all values continuously"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Tick process"}),": When the NBBO changes for a given strike, that strike exits the loop and performs an immediate update. Additionally, if the underlying price moves while the option NBBO remains unchanged, the implied markets are adjusted to reflect the updated underlying price."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 1:"})," Retrieve all equity option records from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/analytics/LiveImpliedQuoteAdj/",children:(0,t.jsx)(s.em,{children:"LiveImpliedQuoteAdj"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgliveimpliedquoteadj WHERE okey_at = 'EQT';\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 2:"})," Retrieve live implied quotes for December 5th AAPL options with strikes above 180:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgliveimpliedquoteadj \nWHERE okey_tk='AAPL' AND okey_mn=12 AND okey_dy=5 AND okey_xx > 180;\n"})}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/Liveimpliedquoteadj.png",alt:"LiveImpliedQuoteAdjust"}),"\n",(0,t.jsx)(s.h3,{id:"optionquoteprobability-table",children:"OptionQuoteProbability Table"}),"\n",(0,t.jsxs)(s.p,{children:["A complementary table to ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/analytics/LiveImpliedQuoteAdj/",children:(0,t.jsx)(s.em,{children:"LiveImpliedQuoteAdj"})})," is ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/probabilities/OptionQuoteProbability/",children:(0,t.jsx)(s.em,{children:"OptionQuoteProbability"})}),". This table contains option NBBO data along with the top-level bid and ask sizes. It also displays the bid-take and ask-take probabilities (the same metrics displayed in the Symbol Viewer) and the trailing 10-minute average market width calculation."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 3:"})," Retrieve all equity option records from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/probabilities/OptionQuoteProbability/",children:(0,t.jsx)(s.em,{children:"OptionQuoteProbability"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgoptionquoteprobability WHERE okey_at = 'EQT';\n"})}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/Optquoteprobability.png",alt:"MsgOptionQuoteProbability"}),"\n",(0,t.jsx)(s.h3,{id:"optionprintset-table",children:"OptionPrintSet Table"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/market-data-options/OptionPrintSet/",children:(0,t.jsx)(s.em,{children:"OptionPrintSet"})})," table displays option trade prints. Each print record includes individual trade details along with the total volume for the day. For every print, SR Analytics provides a full markup that includes the corresponding SpiderRock surface values and Greeks as they were at the time of the print."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 4:"})," Retrieve all equity option prints:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgoptionprintset WHERE okey_at = 'EQT';\n"})}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/Optprintset.png",alt:"OptionPrintSet"}),"\n",(0,t.jsx)(s.h3,{id:"live-surface-atm--live-surface-curve-tables",children:"Live Surface ATM & Live Surface Curve Tables"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/analytics/LiveSurfaceCurve/",children:(0,t.jsx)(s.em,{children:"LiveSurfaceCurve"})})," and ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/analytics/LiveSurfaceAtm/",children:(0,t.jsx)(s.em,{children:"LiveSurfaceAtm"})})," tables contain the full SpiderRock curve records, including all forward expiration values and spline points."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 5a:"})," Retrieve the live surface curve for AAPL equity options:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msglivesurfacecurve WHERE ekey_at = 'EQT' AND ekey_tk = 'AAPL';\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 5b:"})," Retrieve the live surface ATM for AAPL equity options:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msglivesurfaceatm WHERE ekey_at = 'EQT' AND ekey_tk = 'AAPL';\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 5c:"})," Retrieve all available surfaces for June AAPL options:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msglivesurfaceatm WHERE ekey_tk='AAPL' AND ekey_mn=6;\n"})}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/livesurfaceatm.png",alt:"Live Surface ATM"}),"\n",(0,t.jsx)(s.h3,{id:"global-rates-dividends-and-stock-earnings-calendar-tables",children:"Global Rates, Dividends, and Stock Earnings Calendar Tables"}),"\n",(0,t.jsx)(s.p,{children:"SpiderRock provides access to the risk-free rates and dividend values used in the calculation of SpiderRock volatility surfaces. Clients can also view the earnings calendar referenced in these calculations."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 6:"})," Retrieve all global rates from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/option-pricing/GlobalRates/",children:(0,t.jsx)(s.em,{children:"GlobalRates"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgglobalrates;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 7:"})," Retrieve all global dividends from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/option-pricing/GlobalDividends/",children:(0,t.jsx)(s.em,{children:"GlobalDividends"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgglobaldividends;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 8:"})," Retrieve the stock earnings calendar from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/option-pricing/StockEarningsCalendar/",children:(0,t.jsx)(s.em,{children:"StockEarningsCalendar"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgstockearningscalendar;\n"})}),"\n",(0,t.jsx)(s.h3,{id:"stock-dividend-detail-table",children:"Stock Dividend Detail Table"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/market-statistics/StockDetail/",children:(0,t.jsx)(s.em,{children:"StockDetail"})})," table provides information about upcoming dividends and the time remaining until the next dividend."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 9a:"})," Retrieve all stock detail records:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgstockdetail;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 9b:"})," Retrieve stocks announcing earnings in the next 3 days:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgstockdetail WHERE nextEarnDays < 3 AND nextEarnDays > 0;\n"})}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/stockdetail.png",alt:"Stock Earnings Calendar"}),"\n",(0,t.jsx)(s.h3,{id:"definition-tables",children:"Definition Tables"}),"\n",(0,t.jsx)(s.p,{children:"Definition tables provide product and security identification information."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 10:"})," Retrieve root definitions for equity assets from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/product-definition/RootDefinition/",children:(0,t.jsx)(s.em,{children:"RootDefinition"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgrootdefinition WHERE root_at = 'EQT';\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 11:"})," Retrieve all option expiry definitions from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/product-definition/OptExpiryDefinition/",children:(0,t.jsx)(s.em,{children:"OptionExpiryDefinition"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgoptexpirydefinition;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 12:"})," Retrieve all industry definitions from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/product-definition/IndustryDefinition/",children:(0,t.jsx)(s.em,{children:"IndustryDefinition"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgindustrydefinition;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 13 and 14:"})," Retrieve ticker definitions from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/product-definition/TickerDefinitionExt/",children:(0,t.jsx)(s.em,{children:"TickerDefinitionExt"})})," and the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/product-definition/TickerDefinition/",children:(0,t.jsx)(s.em,{children:"TickerDefinition"})})," tables. This includes all the different ways a security can be labeled, such as BBG composition, OCC, LEI, CFI, CIC, etc.:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgtickerdefinitionext;\n"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgtickerdefinition WHERE ticker_at = 'EQT';\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 15:"})," Retrieve SpiderRock opening marks and Greeks for SPY from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/market-marks/OptionOpenMark/",children:(0,t.jsx)(s.em,{children:"OptionOpenMark"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgoptionopenmark WHERE okey_tk='SPY';\n"})}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/optopenmark.png",alt:"Option Open Mark"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 16:"})," Retrieve the SpiderRock close mark for AAPL from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/market-marks/StockCloseMark/",children:(0,t.jsx)(s.em,{children:"StockCloseMark"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgstockclosemark WHERE ticker_tk='AAPL';\n"})}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/stockclosemark.png",alt:"Stock Close Mark"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Sample Query 17:"})," Retrieve the beta value for TSLA from the ",(0,t.jsx)(s.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/market-statistics/StockBeta/",children:(0,t.jsx)(s.em,{children:"StockBeta"})})," table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM sranalytics.msgstockbeta WHERE ticker_tk='TSLA';\n"})}),"\n",(0,t.jsx)(r.B,{src:"/images/PlatformAPIs/SRSE/SRAnalytics/stockbeta.png",alt:"Stock Beta"})]})}function p(e={}){let{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},607591(e,s,i){i.d(s,{B:()=>a});var n=i(886070),t=i(830758);let a=({src:e,alt:s,className:i})=>{let[a,r]=(0,t.useState)(!1),l=()=>r(!1);return t.useEffect(()=>{let e=e=>{"Escape"===e.key&&l()};return a&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[a]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:e,alt:s,className:`image-lightbox-thumbnail ${i||""}`,onClick:()=>r(!0),style:{cursor:"pointer"}}),a&&(0,n.jsx)("div",{className:"image-lightbox-overlay",onClick:l,children:(0,n.jsxs)("div",{className:"image-lightbox-content",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("button",{className:"image-lightbox-close",onClick:l,"aria-label":"Close",children:"\xd7"}),(0,n.jsx)("img",{src:e,alt:s,className:"image-lightbox-image"})]})})]})}},149531(e,s,i){i.d(s,{R:()=>r,x:()=>l});var n=i(830758);let t={},a=n.createContext(t);function r(e){let s=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);