"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["70159"],{257672(e,r,n){n.r(r),n.d(r,{metadata:()=>s,default:()=>m,frontMatter:()=>a,contentTitle:()=>i,toc:()=>d,assets:()=>c});var s=JSON.parse('{"id":"Documentation/PlatformAPIs/SRSE/SRControl","title":"SR Control","description":"Overview","source":"@site/docs/Documentation/PlatformAPIs/SRSE/7.SRControl.md","sourceDirName":"Documentation/PlatformAPIs/SRSE","slug":"/Documentation/PlatformAPIs/SRSE/SRControl","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRControl","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"SR Control","sidebar_position":7},"sidebar":"documentationSidebar","previous":{"title":"SR Risk","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRRisk"},"next":{"title":"SR Theo","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRTheo"}}'),l=n(886070),o=n(848193),t=n(607591);let a={title:"SR Control",sidebar_position:7},i,c={},d=[{value:"Overview",id:"overview",level:2},{value:"SR Control Tables",id:"sr-control-tables",level:2},{value:"Query Examples",id:"query-examples",level:2},{value:"Stock Locates",id:"stock-locates",level:3},{value:"Client Risk Control and Restricted Symbol Control",id:"client-risk-control-and-restricted-symbol-control",level:3},{value:"User Overrides",id:"user-overrides",level:3}];function u(e){let r={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(r.p,{children:"The SR Control database allows the user to manage risk controls, locates, and configuration settings. Key features include:"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"View and manage symbol and user supervisory trade risk controls"}),"\n",(0,l.jsx)(r.li,{children:"Manage borrow rates, locates, and restricted trading lists"}),"\n",(0,l.jsx)(r.li,{children:"Dynamically control algo configuration and delivery instructions"}),"\n",(0,l.jsx)(r.li,{children:"Integrated with SpiderRock GUI tools"}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"sr-control-tables",children:"SR Control Tables"}),"\n",(0,l.jsx)(r.p,{children:"The following image shows the available tables in SR Control:"}),"\n",(0,l.jsx)(t.B,{src:"/images/PlatformAPIs/SRSE/SRControl-tables.png",alt:"SR Control Tables"}),"\n",(0,l.jsx)(r.h2,{id:"query-examples",children:"Query Examples"}),"\n",(0,l.jsx)(r.h3,{id:"stock-locates",children:"Stock Locates"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Sample Query 1:"})," Insert locates into the ",(0,l.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/srse-gateway/AwayStockLocateGateway/",children:"AwayStockLocateGateway"}),":"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgawaystocklocategateway\nVALUES ('EQT', 'NMS', 'AAPL', 'SRCORE', 'GS', 'TEST', 50000, 'No', 1234, NOW());\n"})}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Sample Query 2:"})," Insert a request for 50,000 shares in AAPL:"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"VALUES ('EQT', 'NMS', 'AAPL', 'SRCORE', 'GS', 'TEST', 50000, NOW());\n"})}),"\n",(0,l.jsxs)(r.blockquote,{children:["\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Note:"})," Only available if you have permission to programmatically request locates from your clearing firm."]}),"\n"]}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Sample Query 3:"})," Retrieve available stock locates from the ",(0,l.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/client-borrow/AvailableStockLocates/",children:"AvailableStockLocates"})," table:"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM srcontrol.msgavailablestocklocates WHERE coreclientfirm = 'SRCORE';\n"})}),"\n",(0,l.jsx)(r.h3,{id:"client-risk-control-and-restricted-symbol-control",children:"Client Risk Control and Restricted Symbol Control"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Sample Query 4:"})," Insert risk controls for a client firm:"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES ('EQT', 'NMS', 'BA', '*', 'ClientFirm', 'SRCORE', 'Yes', 'Enable', 'Enable', 'Enable', \n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 'username', 'Saturn', NOW());\n"})}),"\n",(0,l.jsx)(r.p,{children:"To update a restricted symbol, for a client firm:"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'Disabled', futenabled = 'Disabled', optenabled = 'Disabled'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'BA' AND riskcontrollevel = 'ClientFirm' AND riskcontrolkey = '*';\n"})}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Sample Query 5:"})," Insert risk controls for an account:"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES ('EQT', 'NMS', 'Z', 'T.ACCNT', 'Accnt', 'SRCORE', 'Yes', 'Enable', 'Enable', 'Enable', \n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 'username', 'Saturn', NOW());\n"})}),"\n",(0,l.jsx)(r.p,{children:"To update a restricted symbol for an account:"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'Disabled', futenabled = 'Disabled', optenabled = 'Closeonly'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'Z' AND riskcontrollevel = 'Accnt' AND riskcontrolkey = 'T.ACCNT';\n"})}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Sample Query 6:"})," Insert risk controls for a user:"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES ('EQT', 'NMS', 'DAL', 'user.name', 'USER', 'SRCORE', 'Yes', 'Enable', 'Enable', 'Enable', \n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 'username', 'Saturn', NOW());\n"})}),"\n",(0,l.jsx)(r.p,{children:"To update a restricted symbol for a user:"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'CloseOnly', futenabled = 'Disabled', optenabled = 'Closeonly'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'DAL' AND riskcontrollevel = 'User' AND riskcontrolkey = 'user.name';\n"})}),"\n",(0,l.jsx)(r.h3,{id:"user-overrides",children:"User Overrides"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Sample Query 7:"})," Insert a user dividend override:"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:'REPLACE INTO srcontrol.msguserdividendoverride\nVALUES (\'EQT\', \'NMS\', \'AAPL\', \'SRCORE\', \'Tooloverride\', NOW(), \'preference\', \'Fullreplace\',\n\'[{"divDate":"2025-05-12","divValue":0.26,"divCurrency":"USD","divKind":"Regular","divSource":"Forecast","divFreq":"None","divOverrideSource":"None"},\n  {"divDate":"2025-08-11","divValue":0.26,"divCurrency":"USD","divKind":"Regular","divSource":"Forecast","divFreq":"None","divOverrideSource":"None"}]\');\n'})}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Sample Query 8:"})," Insert a user rate override:"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:'SELECT * FROM srcontrol.doccolumns WHERE TABLE_NAME=\'msguserrateoverride\' ORDER BY ordinal_position ASC;\n\nSELECT * FROM srcontrol.msguserrateoverride WHERE clientfirm = \'SRCORE\';\n\nREPLACE INTO srcontrol.msguserrateoverride\nVALUES (\'SRCORE\', NOW(), \'TEST\', \n\'[{"days":1,"rate":4.395},{"days":7,"rate":4.3878},{"days":30,"rate":4.3962},{"days":61,"rate":4.3825},\n  {"days":91,"rate":4.3585},{"days":182,"rate":4.2213},{"days":365,"rate":3.9758},{"days":548,"rate":3.8259},\n  {"days":730,"rate":3.7644},{"days":1095,"rate":3.7373},{"days":1825,"rate":3.7984}]\');\n'})})]})}function m(e={}){let{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},607591(e,r,n){n.d(r,{B:()=>o});var s=n(886070),l=n(830758);let o=({src:e,alt:r,className:n})=>{let[o,t]=(0,l.useState)(!1),a=()=>t(!1);return l.useEffect(()=>{let e=e=>{"Escape"===e.key&&a()};return o&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[o]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:e,alt:r,className:`image-lightbox-thumbnail ${n||""}`,onClick:()=>t(!0),style:{cursor:"pointer"}}),o&&(0,s.jsx)("div",{className:"image-lightbox-overlay",onClick:a,children:(0,s.jsxs)("div",{className:"image-lightbox-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"image-lightbox-close",onClick:a,"aria-label":"Close",children:"\xd7"}),(0,s.jsx)("img",{src:e,alt:r,className:"image-lightbox-image"})]})})]})}},848193(e,r,n){n.d(r,{R:()=>t,x:()=>a});var s=n(830758);let l={},o=s.createContext(l);function t(e){let r=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);