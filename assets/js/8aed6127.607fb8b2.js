"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["327"],{88063:function(e,i,t){t.r(i),t.d(i,{default:()=>h,frontMatter:()=>a,metadata:()=>n,assets:()=>l,toc:()=>d,contentTitle:()=>o});var n=JSON.parse('{"id":"Documentation/PlatformFeatures/RiskManagement/RiskManagement","title":"Risk Management System","description":"SpiderRock Connect operates an integrated risk management platform suitable for use as the primary risk monitoring-and-management platform for large and complex, multi-account, equity, future, and options trading strategies.","source":"@site/docs/Documentation/PlatformFeatures/RiskManagement/RiskManagement.md","sourceDirName":"Documentation/PlatformFeatures/RiskManagement","slug":"/Documentation/PlatformFeatures/RiskManagement/","permalink":"/docs/next/Documentation/PlatformFeatures/RiskManagement/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Risk Management System","sidebar_position":5},"sidebar":"documentationSidebar","previous":{"title":"TCA Metrics","permalink":"/docs/next/Documentation/PlatformFeatures/OrderManagement/TCAMetrics"},"next":{"title":"Client Configurations","permalink":"/docs/next/Documentation/PlatformFeatures/ClientConfiguration"}}'),s=t("52676"),r=t("91503");let a={title:"Risk Management System",sidebar_position:5},o=void 0,l={},d=[{value:"SpiderRock Risk and Trading Accounts",id:"spiderrock-risk-and-trading-accounts",level:2},{value:"Start-of-Day Position Loaders",id:"start-of-day-position-loaders",level:2},{value:"Intraday Execution Drops",id:"intraday-execution-drops",level:2},{value:"SpiderRock Symbology",id:"spiderrock-symbology",level:2},{value:"SpiderRock Live Risk Servers",id:"spiderrock-live-risk-servers",level:2},{value:"Stock-Position Records - Accnt + StockKey",id:"stock-position-records---accnt--stockkey",level:3},{value:"Future-Position Records - Accnt + FutureKey",id:"future-position-records---accnt--futurekey",level:3},{value:"Option-Position Records - Accnt + OptionKey",id:"option-position-records---accnt--optionkey",level:3},{value:"Symbol Risk-Summary Records - Accnt + StockKey",id:"symbol-risk-summary-records---accnt--stockkey",level:3},{value:"Expiration Risk Records - Accnt + Year/Moth/Day",id:"expiration-risk-records---accnt--yearmothday",level:3},{value:"Industry Risk Records - Accnt + IndCode",id:"industry-risk-records---accnt--indcode",level:3},{value:"Account Risk Record - Accnt",id:"account-risk-record---accnt",level:3},{value:"Risk Cube Detail Records - Stock, Futures, Options",id:"risk-cube-detail-records---stock-futures-options",level:3},{value:"Trade Cube Detail Records - Stock, Futures, Options",id:"trade-cube-detail-records---stock-futures-options",level:3},{value:"Multi-Hedge Option Handling - Equities",id:"multi-hedge-option-handling---equities",level:2},{value:"SpiderRock Position, Mark, and PnL Conventions",id:"spiderrock-position-mark-and-pnl-conventions",level:2},{value:"Clearing Firm (CLR) Open PnL",id:"clearing-firm-clr-open-pnl",level:3},{value:"SpiderRock Synchronized (MID) Open PnL",id:"spiderrock-synchronized-mid-open-pnl",level:3},{value:"SpiderRock Surface Mark (Vol) Open PnL",id:"spiderrock-surface-mark-vol-open-pnl",level:3},{value:"SpiderRock Hedge Delta Computation",id:"spiderrock-hedge-delta-computation",level:2},{value:"Risk Management Citrix Tool Suite",id:"risk-management-citrix-tool-suite",level:2},{value:"SR Risk Viewer (RV)",id:"sr-risk-viewer-rv",level:3},{value:"SR Hedge Tool (HT)",id:"sr-hedge-tool-ht",level:3},{value:"SR Risk Manager (RM)",id:"sr-risk-manager-rm",level:3},{value:"SR Risk Analyzer (RA)",id:"sr-risk-analyzer-ra",level:3},{value:"FLEX Positions",id:"flex-positions",level:2}];function c(e){let i={a:"a",em:"em",h2:"h2",h3:"h3",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"SpiderRock Connect operates an integrated risk management platform suitable for use as the primary risk monitoring-and-management platform for large and complex, multi-account, equity, future, and options trading strategies."}),"\n",(0,s.jsx)(i.p,{children:"This risk management platform consists of several components that work together to ensure an accurate real-time risk picture for individual traders, as well as risk managers."}),"\n",(0,s.jsx)(i.p,{children:"The SpiderRock Connect risk management platform consists of the following components:"}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"SR Risk Servers: Live risk computation and aggregation."}),(0,s.jsx)("li",{children:"SR prior-day position-rotation loaders."}),(0,s.jsx)("li",{children:"SR and client start-of-day clearing position loaders."}),(0,s.jsx)("li",{children:"SR live execution notification [SR execution engines => SR risk servers]."}),(0,s.jsx)("li",{children:"Integrated away execution notifications [FIX or SRSE upload]."}),(0,s.jsx)("li",{children:"SRSE SQL API: Live position and risk detail via an SQL style interface."}),(0,s.jsx)("li",{children:"SR Risk Viewer (RV): Live symbol-level risk detail."}),(0,s.jsx)("li",{children:"SR Risk Manager (RM): Live asset-level risk, flexible aggregation, risk span calculations."}),(0,s.jsx)("li",{children:"SR Risk Analyzer (RA): Historical asset-level pivot-table style risk analyzer."}),(0,s.jsx)("li",{children:"SR Hedge Tool (HT): Live symbol-and-expiration-level option hedge basket manager. "}),(0,s.jsx)("li",{children:"SR ElasticRock risk and trading data cluster: Quasi-real-time (< 5 sec latency)."})]}),"\n",(0,s.jsx)(i.p,{children:"This risk management platform is well integrated with SpiderRock Connect's execution systems and can substantially simplify the workflow required to manage and scale complex multi-asset active trading strategies."}),"\n",(0,s.jsx)(i.h2,{id:"spiderrock-risk-and-trading-accounts",children:"SpiderRock Risk and Trading Accounts"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock will assign unique account codes (usually 4 - 6 letters and numbers) for each distinct clearing/trading account handled by the SpiderRock Connect systems. This short account code usually corresponds to a single clearing firm sub-account and is used when viewing and accessing risk as well as when executing trades via SpiderRock Connect."}),"\n",(0,s.jsx)(i.p,{children:"Clients can request creation of as many accounts as necessary to organize their activity. Thereafter, clients can control aspects of account configuration, including the account tagging that facilitates flexible aggregation groups and organizational structure."}),"\n",(0,s.jsxs)(i.p,{children:["If you would like SpiderRock to assign specific account codes or explore alternative account configurations, ",(0,s.jsx)(i.a,{href:"/docs/next/ContactUs/",children:"contact the SpiderRock Client Support Desk for assistance."})]}),"\n",(0,s.jsx)(i.h2,{id:"start-of-day-position-loaders",children:"Start-of-Day Position Loaders"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect can directly load start-of-day positions from most prime brokers/clearing firms. If so authorized, SpiderRock will arrange for start-of-day position records to be transferred from a client's clearing firm to the SpiderRock Connect platform and will be loaded automatically. SpiderRock will also account for any corporate action events before a day's trading session begins."}),"\n",(0,s.jsx)(i.p,{children:"Note that any given client can typically authorize only those accounts that they would like loaded into SpiderRock Connect systems. Alternatively, a client can directly load start-of-day positions into SpiderRock Connect systems via the SRSE SQL API if they do not wish SpiderRock to receive information directly from their clearing firm."}),"\n",(0,s.jsx)(i.p,{children:"Clients can compare SpiderRock Connect's uploaded records against their own uploaded SOD positions to see possible position breaks such as assignments, exercises, or actual trade breaks. These comparisons can be done via SRSE, Risk Viewer, or Symbol Viewer."}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect will load positions as a client's clearing firm or prime broker makes them available. For NMS equity and equity options accounts this is typically between 4:00 am and 7:00 am, Monday-Friday."}),"\n",(0,s.jsx)(i.p,{children:"On request, SpiderRock Connect can load start-of-day positions from the previous-day SpiderRock position and trade archive. This is usually only done if a client's prime broker or clearing firm was unable to provide files in a timely fashion, and can be very valuable in emergencies."}),"\n",(0,s.jsxs)(i.p,{children:["View the ",(0,s.jsx)(i.a,{href:"/docs/MessageSchemas/Schema/SRSE%20Products/SRRisk/SodClearingRecordV5",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"SodClearingRecordV5"})})})," message for table definitions and example queries."]}),"\n",(0,s.jsx)(i.h2,{id:"intraday-execution-drops",children:"Intraday Execution Drops"}),"\n",(0,s.jsx)(i.p,{children:"All executions resulting from orders managed by the SpiderRock Connect execution engines are reported to the SpiderRock Connect risk management system as they occur. This includes orders sent to SpiderRock Connect systems via FIX, SRSE, or SpiderRock Citrix tool suite."}),"\n",(0,s.jsxs)(i.p,{children:["In addition, clients can notify SpiderRock Connect of done away executions either via a FIX drop or via the SRSE SQL API. SpiderRock Connect can also frequently integrate with other execution providers in order to receive real-time done away execution notifications, typically via ",(0,s.jsx)(i.a,{href:"/docs/next/Documentation/PlatformAPIs/FIX/execution-drop-copy-spec",children:"FIX drop copy."})]}),"\n",(0,s.jsx)(i.h2,{id:"spiderrock-symbology",children:"SpiderRock Symbology"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect systems operate with a unified asset symbology that include three different asset class keys: Stock keys, future keys, and option keys."}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Stock Key = AssetType + TickerSrc + Symbol "}),(0,s.jsx)("li",{children:"Future Key = AssetType + TickerSrc + Symbol + Expiration "}),(0,s.jsx)("li",{children:"Option Key = AssetType + TickerSrc + Symbol + Expiration + Strike + CPFlag "})]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"AssetType"})})," is a 3-letter code describing the asset class and is usually one of EQT, IDX, or FUT."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"TickerSrc"})})," is a 2-4-letter code describing the issuing authority associated with the symbol. NMS is used for all US equity and equity-option products. Other ticker sources include CME, NYMEX, COMEX, CBOT, ICE, and CFE."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Symbol"})})," is usually an exchange or issuing authority ticker consisting of 1\u20139 letters or numbers. For equities, this symbol will be an exchange issues ticker with special flags appended using the CMS convention (\u2018.A\u2019, \u2018.RT\u2019, \u2018.PR\u2019, \u2018PRA\u2019, etc.). Equity option symbols are OPRA roots. Futures and options on futures symbols are exchange-issued product codes (\u2018ES\u2019, \u2018ZN\u2019, \u2018RT\u2019, etc.)."]}),"\n",(0,s.jsx)(i.p,{children:"Note that SpiderRock Connect creates synthetic stock keys for all futures and options on futures chains and the symbol portion of these keys starts with \u2018@\u2019. For example, @ES is the stock key for a synthetic stock object that is the root of all ES future and options."}),"\n",(0,s.jsx)(i.p,{children:"Note that SpiderRock Connect creates synthetic stock keys for all multi-hedge settlement baskets and the symbol portion of these keys starts with an underscore (_)."}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Expiration"})})," is a future or option expiration date in YYYY-MM-DD or year, month, day format."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Strike"})})," is a decimal number representing the strike price of an option. This is typically in display-format rather than exchange raw-format."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"CPFlag"})})," is either \u2018Call\u2019 or \u2018Put\u2019."]}),"\n",(0,s.jsx)(i.h2,{id:"spiderrock-live-risk-servers",children:"SpiderRock Live Risk Servers"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect's live risk servers aggregate start-of-day positions and intraday executions along with live market and analytic data and publish detailed risk records for all positions in an account. These records are visible in SpiderRock's Citrix tool suite and are available via SRSE SQL servers."}),"\n",(0,s.jsx)(i.p,{children:"The SpiderRock Connect risk servers handle equity, future, equity option, and future option asset classes. They operate from Sunday morning through Friday night and are suitable for account, firm, and strategy risk management tasks, including precision static and dynamic surface-hedging, dynamic PnL attribution, greek aggregation, scenario and SPAN slide-aggregation, pin and early exercise management, and client theoretical surface-performance attribution."}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect's risk servers also manage top-of-day risk rotations in which current positions and executions are aggregated into a previous period-position record for use either as a new start-of-day initial positions or to perform break checks against start-of-day positions loaded from a client's clearing firm. Top-of-day rotation time are product-specific: CME products rotate at 4:45 pm, ICE products at 5:45 pm, and NMS tickers at 7:45 pm Monday - Friday. Both current-day (live) and prior-day (frozen, as of rotation time) records are available in SRSE at any time. All frozen records for the trailing 90 days are available in the ElasticRock data cluster."}),"\n",(0,s.jsx)(i.p,{children:"The SpiderRock Connect risk servers update the following risk records and aggregates quickly when positions change (usually from trading activity), and somewhat more slowly (usually about every 60 seconds) if positions have not changed. More information for all records below can be obtained from SRSE record documentation or, alternatively, from Citrix-tool-embedded grid column selectors."}),"\n",(0,s.jsx)(i.h3,{id:"stock-position-records---accnt--stockkey",children:"Stock-Position Records - Accnt + StockKey"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/StockPositionRecordV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Stock-position records"})})})," are created and updated during the day when either a start-of-period position or an execution exists. Stock-position records include the following data:"]}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Start-of-day position: CLR and SR positions and marks."}),(0,s.jsx)("li",{children:"Cumulative shares bought and sold during the trading day."}),(0,s.jsx)("li",{children:"PnL from CLR and SR start-of-day positions, and PnL from all executions during the day. "}),(0,s.jsx)("li",{children:"Live marks and both SR and CLR closing marks."})]}),"\n",(0,s.jsx)(i.h3,{id:"future-position-records---accnt--futurekey",children:"Future-Position Records - Accnt + FutureKey"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/FuturePositionRecordV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Future-position records"})})})," are created and updated during the day when either a start-of-period position or an execution exists. Future-position records include the following data:"]}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Start-of-day position: CLR and SR positions and marks."}),(0,s.jsx)("li",{children:"Cumulative contracts bought and sold during the trading day."}),(0,s.jsx)("li",{children:"PnL from CLR and SR start-of-day positions, and PnL from all executions during the day. "}),(0,s.jsx)("li",{children:"Live marks and both SR and CLR closing marks as well as exchange settlement marks."}),(0,s.jsx)("li",{children:"Definition details such as tick value, point value, and years to expiration."})]}),"\n",(0,s.jsx)(i.h3,{id:"option-position-records---accnt--optionkey",children:"Option-Position Records - Accnt + OptionKey"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/OptionPositionRecordV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Option-position records"})})})," are created and updated during the day when either a start-of-period position or an execution exists. Option-position records include the following data:"]}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Start-of-day position: CLR and SR positions and marks."}),(0,s.jsx)("li",{children:"Cumulative contracts bought and sold during the trading day."}),(0,s.jsx)("li",{children:"PnL from CLR and SR start-of-day positions, and PnL from all executions during the day."}),(0,s.jsx)("li",{children:"Start-of-day and trading PnL from SR live surface marks (usually more accurate)."}),(0,s.jsx)("li",{children:"Live marks and both SR and CLR closing marks as well as exchange settlement marks (if any)."}),(0,s.jsx)("li",{children:"Definition details such as underliers per contract, tick value, point value, years to expiration."}),(0,s.jsx)("li",{children:"Multihedge allocation details (underlier is a basket of 2 or more stocks)."}),(0,s.jsx)("li",{children:"Hedge deltas including binary (near expiry) and dynamic surface-hedging factors."}),(0,s.jsx)("li",{children:"Live and prior-period option greeks include greek PnL attribution."}),(0,s.jsx)("li",{children:"Standard risk slides (underlier +/- X%) including cash takeout and earnings scenarios."}),(0,s.jsx)("li",{children:"Client theoretical surface edge and Pn-attribution (for clients that have uploaded surfaces)."})]}),"\n",(0,s.jsx)(i.h3,{id:"symbol-risk-summary-records---accnt--stockkey",children:"Symbol Risk-Summary Records - Accnt + StockKey"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/SymbolRiskSummaryV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Symbol risk-summary records"})})})," aggregate stock-position records, future-position records, and option-position records into a symbol or product-level view of positions, risk, and PnL. These records are suitable for making accurate symbol-level hedging decisions and are the primary input in the SpiderRock Hedge Tool as well as the SpiderRock Symbol Viewer. These records are also the source for the SpiderRock Risk Viewer (all symbol-level detail tabs). Symbol risk-summary records contain the following data:"]}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Stock, Future, and Option position and trade counts."}),(0,s.jsx)("li",{children:"Symbol-level start-of-day position break summary (SR view vs. CLR view)"}),(0,s.jsx)("li",{children:"Symbol-level PnL: Start-of-day and trading. SR and CLR marks."}),(0,s.jsx)("li",{children:"Symbol-level cumulative greeks: Delta, Vega, Gamma, Theta, Rho, Phi, etc."}),(0,s.jsx)("li",{children:"Symbol greek PnL-attribution: VePnL, GaPnL, ThPnL, RhoPnL, PhiPnL, etc."}),(0,s.jsx)("li",{children:"Symbol-level hedging data including dynamic surface-hedging aggregation."}),(0,s.jsx)("li",{children:"Symbol-level haircut and margin values."}),(0,s.jsx)("li",{children:"Multihedge risk allocations (option risk allocated to component underliers)."}),(0,s.jsx)("li",{children:"Theo surface edge and performance attribution (for clients that have uploaded surfaces)."}),(0,s.jsx)("li",{children:"Hypothetical continuous-hedging PnL (assumes mid-market hedging at 1 min frequency)."}),(0,s.jsx)("li",{children:"Time and skew bucket time-weighted vega aggregation (5 + 5)."}),(0,s.jsx)("li",{children:"Early exercise and pin risk-management alerts."})]}),"\n",(0,s.jsx)(i.h3,{id:"expiration-risk-records---accnt--yearmothday",children:"Expiration Risk Records - Accnt + Year/Moth/Day"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/ExpirationRiskRecordV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Expiration risk records"})})})," aggregate option position records for each expiration month. These records include the following data:"]}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Long/short greek aggregation: Vega, WVega, WtVega, Theta, Rho."}),(0,s.jsx)("li",{children:"Skew bucket time-weighted vega aggregation (5 buckets)."}),(0,s.jsx)("li",{children:"Greek PnL-attribution: VePnL, GaPnL, ThPnL, RhoPnL, PhiPnL, etc."}),(0,s.jsx)("li",{children:"Expiration-level standard risk slides [underlier +/- X%]."}),(0,s.jsx)("li",{children:"Theo surface edge and performance-attribution (for clients that have uploaded surfaces)."})]}),"\n",(0,s.jsx)(i.h3,{id:"industry-risk-records---accnt--indcode",children:"Industry Risk Records - Accnt + IndCode"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/IndustryRiskRecordV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Industry risk records"})})})," aggregate symbol risk-summary records by industry, sub-industry and group using a SpiderRock industry-classification scheme. These records include the following data:"]}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"PnL metrics: SR and CLR, start-of-day and trades."}),(0,s.jsx)("li",{children:"Long/short greek aggregation: Vega, WVega, WtVega, Theta, Rho."}),(0,s.jsx)("li",{children:"Time and skew bucket time-weighted vega aggregation (5 + 5)."}),(0,s.jsx)("li",{children:"Greek PnL attribution: VePnL, GaPnL, ThPnL, RhoPnL, PhiPnL, etc."}),(0,s.jsx)("li",{children:"Theo surface edge and performance attribution (for clients that have uploaded surfaces)."}),(0,s.jsx)("li",{children:"Standard risk slides [underlier +/- X%]."}),(0,s.jsx)("li",{children:"Aggregate symbol haircut and margin values."})]}),"\n",(0,s.jsx)(i.h3,{id:"account-risk-record---accnt",children:"Account Risk Record - Accnt"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/AccountRiskRecordV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Account risk records"})})})," aggregate symbol risk-summary records by account. These records include the following data:"]}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"PnL metrics: SR and CLR, start-of-day and trades."}),(0,s.jsx)("li",{children:"Long/short greek aggregation: Vega, WVega, WtVega, Theta, Rho."}),(0,s.jsx)("li",{children:"Time and skew bucket time weighted vega aggregation (5 + 5)."}),(0,s.jsx)("li",{children:"Greek PnL attribution: VePnL, GaPnL, ThPnL, RhoPnL, PhiPnL, etc."}),(0,s.jsx)("li",{children:"Theo surface edge and performance attribution (for clients that have uploaded surfaces)."}),(0,s.jsx)("li",{children:"Standard risk slides [underlier +/- X%]."}),(0,s.jsx)("li",{children:"Aggregate symbol haircut and margin values."})]}),"\n",(0,s.jsx)(i.h3,{id:"risk-cube-detail-records---stock-futures-options",children:"Risk Cube Detail Records - Stock, Futures, Options"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/RiskCubeDetailV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Risk cube detail records"})})})," mirror stock, future, and option position records. These records have a common layout for all asset types and are suitable for use in historical and pivot-table-style applications such as the SpiderRock Risk Analyzer. These records are published live during the day (visible in SRSE) and are uploaded to the ElasticSpider cluster at the end of each trading day."]}),"\n",(0,s.jsx)(i.h3,{id:"trade-cube-detail-records---stock-futures-options",children:"Trade Cube Detail Records - Stock, Futures, Options"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/TradeCubeDetailV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"Trade cube detail records"})})})," mirror SpiderRock Connect's parent execution records. These records have a common layout for all asset types and are suitable for use in historical and pivot-table-style applications such as the SpiderRock Trade Analyzer. These records are published live during the day (visible in SRSE) and are uploaded to the ElasticSpider cluster at the end of each trading day."]}),"\n",(0,s.jsx)(i.h2,{id:"multi-hedge-option-handling---equities",children:"Multi-Hedge Option Handling - Equities"}),"\n",(0,s.jsxs)(i.p,{children:["Equity options that settle into multiple stocks have special handling within SpiderRock Connect's systems. First, a synthetic stock ticker is created for the settlement basket. By convention, this ticker is the multihedge option root preceded by an underscore (\u2018_\u2019). SpiderRock Connect publishes live synthetic prices for each settlement basket as component quotes change, and prices the corresponding multihedge options using these synthetic settlement basket markets. PnL and greeks including delta, vega, gamma, and theta are then aggregated from ",(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/OptionPositionRecordV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"option position records"})})})," (root) into ",(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/SymbolRiskSummaryV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"symbol risk summary records"})})})," (\u2018_\u2019 + root). These same values are also proportionately allocated from (\u2018_\u2019 + root) symbol risk-summary records to basket component symbol risk-summary records."]}),"\n",(0,s.jsxs)(i.p,{children:["Typically, when examining the set of ",(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/SymbolRiskSummaryV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"symbol risk summary records"})})}),", total account PnL and greeks equals the aggregation of all records EXCEPT records whose ticker starts with (\u2018_\u2019), as the risk from these records will have been allocated to records who\u2019s symbols do not start with (\u2018_\u2019). Including the (\u2018_\u2019) records in the aggregation with double-count multi-hedge risk and PnL, if any exists in an account."]}),"\n",(0,s.jsx)(i.h2,{id:"spiderrock-position-mark-and-pnl-conventions",children:"SpiderRock Position, Mark, and PnL Conventions"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect's risk systems calculate PnL relative to multiple mark conventions. One convention attempts to mirror the industry standard or official marks for all asset classes. Other standards attempt to provide marks that are either more accurate, more stable over time, or more consistent across asset classes."}),"\n",(0,s.jsx)(i.p,{children:"The main SR mark conventions are:"}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Clearing firm standard (CLR): Usually the official closing or settlement mark, if available. This can be either the last trade, a value determined by settlement committee, or the mid-point of the prevailing NBBO quote on close. These marks are product-specific and represent end-of-day marks but are not set at the same time for related assets."}),(0,s.jsx)("li",{children:"SpiderRock synchronized (MID): Usually the mid-point of the prevailing quote at a single mark time for all related assets. The NMS close time is set to regular day market close, less 1 minute,for all equity and equity option assets including ETFs. CME and ICE close times are product-specific."}),(0,s.jsx)("li",{children:"SpiderRock vol surface marks (VOL): Usually an SR surface volatility price taken at the same time as the MID marks above. These marks will be adjusted to be between the prevailing quote if necessary. This mark set is typically (significantly) more accurate for equity options than either MID or CLR in the sense that it is more likely both to be economically realistic and to exhibit less spurious noise over time. These marks are available for assets such as FLEX options that do not have public markets. "})]}),"\n",(0,s.jsx)(i.p,{children:"When calculating PnL, SpiderRock Connect typically breaks total PnL into two components:"}),"\n",(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"PnL attributable to positions held at the start-of-day, referred to as open (OPN) PnL. "}),(0,s.jsx)("li",{children:"PnL attributable to trading activity during the day, referred to as day (DAY) PnL."})]}),"\n",(0,s.jsx)(i.p,{children:"Note that day rotation times differ by product group. NMS start-of-day is 7:45 pm CST. CME start-of-day is 4:45 pm CST. ICE start-of-day is 5:45 pm CST."}),"\n",(0,s.jsx)(i.p,{children:"Open (OPN) PnL calculations are typically of the following form:"}),"\n",(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"Asset PnL = Position Size x (New Mark \u2013 Old Mark) x Multiplier."}),(0,s.jsx)("li",{children:"Aggregate PnL = SUM ( AssetPnL )."})]}),"\n",(0,s.jsx)(i.p,{children:"Where \u2018Position Size\u2019 and \u2018Old Mark\u2019 are established at the start-of-day and are equal to closing positions and marks the previous day, unless a corporate action has occurred overnight."}),"\n",(0,s.jsx)(i.p,{children:"Note that PnL computed in this fashion is an estimate of effective one-day PnL. Simply summing Aggregate PnL over time is unlikely to give an accurate representation of PnL for longer periods of time as this calculation does not take all account activity into consideration."}),"\n",(0,s.jsx)(i.p,{children:"In order to more accurately account for PnL over extended periods of time, the following calculation form is more appropriate:"}),"\n",(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"Initial Asset Value = SUM(Position Size x Old Mark x Multiplier) (as of T)."}),(0,s.jsx)("li",{children:"Final Asset Value = SUM(Position Size x New Mark x Multiplier) (as of T + N)."}),(0,s.jsx)("li",{children:"Trading PnL = SUM(Realized Gains and Losses)."}),(0,s.jsx)("li",{children:" Other Fees = SUM(other account fees including interest and brokerage)."}),(0,s.jsx)("li",{children:"Aggregate PnL = Final Asset Value \u2013 Initial Asset Value + Trading PnL + Other Fees."})]}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect's systems generally are not aware of all of the components of the above calculation and do not attempt to replicate it."}),"\n",(0,s.jsx)(i.h3,{id:"clearing-firm-clr-open-pnl",children:"Clearing Firm (CLR) Open PnL"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect clearing firm PnL is intended to be an indication of how assets held at the start-of-day have performed."}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"Asset Position Size"})," - Clearing firm start-of-day position (can be corporate-action-adjusted)."]})}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"Old Mark"})," - Clearing firm start-of-day mark (can be corporate-action-adjusted)."]})}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"New Mark"})," - SpiderRock mid-point mark."]})}),"\n",(0,s.jsx)(i.p,{children:"Most (but not all) clearing firms apply corporate actions by the time SpiderRock Connect receives start-of-day positions from them. For clients directly loading positions and marks these values will be as uploaded."}),"\n",(0,s.jsx)(i.h3,{id:"spiderrock-synchronized-mid-open-pnl",children:"SpiderRock Synchronized (MID) Open PnL"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock synchronized PnL is intended to be an indication of how assets held at the start of day have performed when using marks that are fully synchronized."}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"Asset Position Size"})," - Clearing firm start-of-day position (can be corporate-action-adjusted)."]})}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"Old Mark"})," - Clearing firm start-of-day mark (can be corporate-action-adjusted)."]})}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"New Mark"})," - SpiderRock mid-point mark."]})}),"\n",(0,s.jsx)(i.p,{children:"Note that synchronized marks are taken slightly before the official close, and at the same time for all assets in a category. This can significantly improve mark quality when the official mark is deriving from a quoted market and the quotes in question are being pulled at the end of the day. Also, these marks can synchronize ETF and index-based marks, which avoids the time-mismatch issues inherent to some products."}),"\n",(0,s.jsx)(i.h3,{id:"spiderrock-surface-mark-vol-open-pnl",children:"SpiderRock Surface Mark (Vol) Open PnL"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock surface mark PnL is intended to provide a more accurate measure of asset value and PnL for portfolios containing options, especially when the options in question are relatively wide and/or inconsistently marked."}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"Asset Position Size"})," - Clearing firm start-of-day position."]})}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"Old Mark"})," - Prior period closing SR surface mark (options) or SR mid-point mark (equities and futures)."]})}),"\n",(0,s.jsx)("ul",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)("i",{children:"New Mark"})," - SpiderRock live SR surface mark (options) or SR mid-point mark (equities and futures)."]})}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect is continuously fitting the option implied markets with a constrained spline to produce a per-symbol-expiration surface. For almost all markets, these constrained spline surfaces ride between live market bids and offers and can be used to create a mark more representative of true value than the mid-point of the individual market bids and offers."}),"\n",(0,s.jsx)(i.p,{children:"Note that for very tight markets (either 1 or 2 ticks wide) SpiderRock Connect uses mid-market values rather than surface marks. Also, when a SpiderRock surface is at, or outside of, a bid-ask market, then the actual market (bid + \xbd tick, ask \u2013 \xbd tick) is used rather than the surface mark."}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock surface PnL is typically more accurate and less noisy (over time) than corresponding PnL based on traditional mid-market marking techniques. For example, for common US equity option portfolios, SpiderRock surface PnL can exhibit a 25%+ reduction in day-over-day PnL standard deviation."}),"\n",(0,s.jsx)(i.p,{children:"Note that equity start-of-day marks will not equal top-of-day prior period marks if a corporate action has been applied to positions and marks between top-of-day and start-of-day. Most (but not all) clearing firms apply corporate actions by the time SpiderRock Connect receives start-of-day positions from them. For clients directly loading positions and marks, these values will be as uploaded."}),"\n",(0,s.jsx)(i.h2,{id:"spiderrock-hedge-delta-computation",children:"SpiderRock Hedge Delta Computation"}),"\n",(0,s.jsxs)(i.p,{children:["SpiderRock's ",(0,s.jsx)(i.a,{href:"/docs/next/MessageSchemas/Schema/SRSE%20Products/SRRisk/SymbolRiskSummaryV5/",children:(0,s.jsx)(i.em,{children:(0,s.jsx)(i.strong,{children:"symbol risk-summary records"})})})," contain a hedge delta field that represents market exposure to the stock (equities) or front month future (future product groups)."]}),"\n",(0,s.jsx)(i.p,{children:"By default, hedge delta is the delta corresponding to the SpiderRock surface volatility for the option in question. If no SpiderRock surface volatility exists, then mid-quote volatility is used instead."}),"\n",(0,s.jsx)(i.p,{children:"The definition of hedge delta can be modified as follows:"}),"\n",(0,s.jsxs)("ol",{children:[(0,s.jsxs)("li",{children:["For options with less than ",(0,s.jsx)("i",{children:"Binary Days"})," to expiration, force delta calculations to [-1,0,+1] (or +/- 0.5 if the underlier quote is straddling strike)."]}),(0,s.jsx)("li",{children:"Use a delta derived from a client-upload theoretical surface volatility instead of SR surface volatility."}),(0,s.jsxs)("li",{children:["Include a ",(0,s.jsx)("i",{children:"VeSlope"})," (surface slide) term derived by assuming SR or client surfaces slide left/right with the underlier. This is sometimes called sticky-delta hedging as opposed to the default sticky-strike hedging."]})]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"/docs/next/ContactUs/",children:"Contact SpiderRock Client Support Desk"})," for help configuring hedging behavior as needed."]}),"\n",(0,s.jsx)(i.h2,{id:"risk-management-citrix-tool-suite",children:"Risk Management Citrix Tool Suite"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect provides an elaborate collection of risk GUI tools for analyzing account and strategy risk, and acting to either hedge or modify account risk profiles. This collection includes:"}),"\n",(0,s.jsx)(i.h3,{id:"sr-risk-viewer-rv",children:"SR Risk Viewer (RV)"}),"\n",(0,s.jsx)(i.p,{children:"This tool allows easy visibility of symbol, industry, expiration, and account aggregate details in a live-monitor format. Features include:"}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Symbol-level positions and break details."}),(0,s.jsx)("li",{children:"Greek and standardized slide risk."}),(0,s.jsx)("li",{children:"OPN PnL details including greek attribution."}),(0,s.jsx)("li",{children:"DAY PnL including T+1m and T+10m as well as DeltaNeutral measures. "}),(0,s.jsx)("li",{children:"TheoEdge details including prior-day edge performance metrics. "}),(0,s.jsx)("li",{children:"Facilities for managing early exercise and pin risk."})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.a,{href:"https://spiderrockplatform.atlassian.net/wiki/spaces/CD/pages/14221355/Risk+Viewer+RV",children:"Read our Risk Viewer guide here."})}),"\n",(0,s.jsx)(i.h3,{id:"sr-hedge-tool-ht",children:"SR Hedge Tool (HT)"}),"\n",(0,s.jsx)(i.p,{children:"This tool is a live symbol-level hedge basket manager that can substantially automate the process of computing appropriate portfolio hedging baskets for complex option positions. It can target either trades done today, start-of-day positions, or both. It includes options for setting hedging bandwidth targets and can be scheduled to run repeatedly during the trading day or selectively as needed."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.a,{href:"https://spiderrockplatform.atlassian.net/wiki/spaces/CD/pages/14090260/Hedge+Tool+HT",children:"Read our Hedge Tool guide here."})}),"\n",(0,s.jsx)(i.h3,{id:"sr-risk-manager-rm",children:"SR Risk Manager (RM)"}),"\n",(0,s.jsx)(i.p,{children:"This tool has full live asset-level detail and allows flexible aggregation along multiple dimensions. This tool is suitable for viewing and managing risk in a single account or across groups of accounts. Features include:"}),"\n",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Risk aggregation: Client Firm, Account, Symbol, Expiration, Industry, Skew Bucket, iVol Range, User View Groups, etc."}),(0,s.jsx)("li",{children:"Custom-span slide calculation: Custom slide levels and configuration (Pct or Log, StickyStrike or SlidingSurface, Simple or Beta or VolRatio Adjusted, StdDev adjusted, etc.)."}),(0,s.jsx)("li",{children:"Exchange standard-span slide calculations: Based on exchange span parameter files. "}),(0,s.jsx)("li",{children:"Flexible-span slide aggregation: Similar to risk aggregations. Can be used to get portfolio risk insight for complex portfolios when used in conjunction with custom-span calculations."}),(0,s.jsx)("li",{children:"Delta, Gamma, Vega, and WtVega greek slides for all span calculations."}),(0,s.jsx)("li",{children:"Highly configurable integrated market scanning (Risk Macro) tool that can be used to automatically generate portfolio-wide risk opening and/or closing orders. Can be used globally for groups of accounts or locally, based on selected risk context."})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.a,{href:"https://spiderrockplatform.atlassian.net/wiki/spaces/CD/pages/14221338/Risk+Manager+RM",children:"Read our Risk Manager guide here."})}),"\n",(0,s.jsx)(i.h3,{id:"sr-risk-analyzer-ra",children:"SR Risk Analyzer (RA)"}),"\n",(0,s.jsx)(i.p,{children:"This tool is a historical asset-level pivot-table style tool that is useful for analyzing risk details over time. This tool typically offers an ability to view and access 90 days of historical risk data in a fast and flexible\nmanner."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.a,{href:"https://spiderrockplatform.atlassian.net/wiki/spaces/CD/pages/93585423/Trade+Risk+Analyzer+TA+RA",children:"Read our Risk Analyzer guide here."})}),"\n",(0,s.jsx)(i.h2,{id:"flex-positions",children:"FLEX Positions"}),"\n",(0,s.jsx)(i.p,{children:"SpiderRock Connect is able to support FLEX positions. Clients can upload Start-of-Day clearing records that include FLEX Options and SpiderRock Connect will accept FLEX positions entered via a parent order message."}),"\n",(0,s.jsx)(i.p,{children:"In the SpiderRock Connect system, FLEX options are marked by having a route that begins with a number. FLEX multi-hedge options have routes that start and end with a number. The number will indicate the exercise type and AM/PM settlement."}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Value"}),(0,s.jsx)(i.th,{children:"Style"}),(0,s.jsx)(i.th,{children:"Settlement"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"1"}),(0,s.jsx)(i.td,{children:"American"}),(0,s.jsx)(i.td,{children:"AM"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"2"}),(0,s.jsx)(i.td,{children:"European"}),(0,s.jsx)(i.td,{children:"AM"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"3"}),(0,s.jsx)(i.td,{children:"American"}),(0,s.jsx)(i.td,{children:"PM"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"4"}),(0,s.jsx)(i.td,{children:"European"}),(0,s.jsx)(i.td,{children:"PM"})]})]})]}),"\n",(0,s.jsx)(i.p,{children:"Therefore, a FLEX o_tkey as \u201C1APPL\u201D to indicate that it is an APPL contract with an American exercise type and an AM settlement."}),"\n",(0,s.jsx)(i.p,{children:"Please note that Asian and Cliquet options are not currently available."})]})}function h(e={}){let{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},91503:function(e,i,t){t.d(i,{Z:function(){return o},a:function(){return a}});var n=t(75271);let s={},r=n.createContext(s);function a(e){let i=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);