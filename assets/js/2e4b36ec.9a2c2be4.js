"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["15390"],{906807(e,r,n){n.r(r),n.d(r,{metadata:()=>s,default:()=>u,frontMatter:()=>t,contentTitle:()=>a,toc:()=>c,assets:()=>i});var s=JSON.parse('{"id":"Documentation/PlatformAPIs/SRSE/SRControl","title":"SR Control","description":"Overview","source":"@site/versioned_docs/version-8.5.12.1/Documentation/PlatformAPIs/SRSE/7.SRControl.md","sourceDirName":"Documentation/PlatformAPIs/SRSE","slug":"/Documentation/PlatformAPIs/SRSE/SRControl","permalink":"/docs/8.5.12.1/Documentation/PlatformAPIs/SRSE/SRControl","draft":false,"unlisted":false,"tags":[],"version":"8.5.12.1","sidebarPosition":7,"frontMatter":{"title":"SR Control","sidebar_position":7},"sidebar":"documentationSidebar","previous":{"title":"SR Risk","permalink":"/docs/8.5.12.1/Documentation/PlatformAPIs/SRSE/SRRisk"},"next":{"title":"SR Theo","permalink":"/docs/8.5.12.1/Documentation/PlatformAPIs/SRSE/SRTheo"}}'),o=n(886070),l=n(848193);let t={title:"SR Control",sidebar_position:7},a,i={},c=[{value:"Overview",id:"overview",level:2},{value:"SR Control Tables",id:"sr-control-tables",level:2},{value:"Query Examples",id:"query-examples",level:2},{value:"<u>Client Risk Control and Restricted Symbol Control</u>",id:"client-risk-control-and-restricted-symbol-control",level:3}];function d(e){let r={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"View and manage symbol and user supervisory trade risk controls"}),"\n",(0,o.jsx)(r.li,{children:"Manage borrow rates, locates, and restricted trading lists"}),"\n",(0,o.jsx)(r.li,{children:"Dynamically control algo configuration and delivery instructions"}),"\n",(0,o.jsx)(r.li,{children:"Integrated with SpiderRock GUI tools"}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"sr-control-tables",children:"SR Control Tables"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{alt:"SR Control Tables",src:n(285925).A+"",width:"283",height:"657"})}),"\n",(0,o.jsx)(r.h2,{id:"query-examples",children:"Query Examples"}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Sample Query 1:"})," To insert locates into the ",(0,o.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/srse-gateway/AwayStockLocateGateway/",children:"Away Stock Locate Gateway"}),":"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgawaystocklocategateway\nVALUES ('EQT','NMS','AAPL','SRCORE','GS','TEST',50000,'No',1234,NOW());\n"})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Sample Query 2:"})," To insert a request for 50,000 Shares in AAPL:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"VALUES ('EQT','NMS','AAPL','SRCORE','GS','TEST',50000,NOW());\n"})}),"\n",(0,o.jsxs)(r.blockquote,{children:["\n",(0,o.jsx)(r.p,{children:"Note: Only available if you have permission to programmatically request locates from your clearing firm."}),"\n"]}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Sample Query 3:"})," To check available stock locates, refer to the ",(0,o.jsx)(r.a,{href:"https://docs.spiderrockconnect.com/docs/next/MessageSchemas/Schema/Topics/client-borrow/AvailableStockLocates/",children:"AvailableStockLocates"})," table:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM srcontrol.msgavailablestocklocates\nWHERE coreclientfirm = 'SRCORE';\n"})}),"\n",(0,o.jsx)(r.h3,{id:"client-risk-control-and-restricted-symbol-control",children:(0,o.jsx)("u",{children:"Client Risk Control and Restricted Symbol Control"})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Sample Query 4:"})," To insert risk controls for a client firm:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES \n('EQT','NMS','BA','*','ClientFirm','SRCORE','Yes','Enable','Enable','Enable',-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,'username','Saturn',NOW());\n"})}),"\n",(0,o.jsx)(r.p,{children:"To update a restricted symbol, run this update message:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'Disabled', futenabled = 'Disabled',optenabled = 'Disabled'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'BA' AND riskcontrollevel = 'ClientFirm' AND riskcontrolkey = '*';\n"})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Sample Query 5:"})," To insert risk controls for an account:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES ('EQT','NMS','Z','T.ACCNT','Accnt','SRCORE','Yes','Enable','Enable','Enable',-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,'username','Saturn',NOW());\n"})}),"\n",(0,o.jsx)(r.p,{children:"To update a restricted symbol, run this update message:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'Disabled', futenabled = 'Disabled',optenabled = 'Closeonly'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'Z' AND riskcontrollevel = 'Accnt' AND riskcontrolkey = 'T.ACCNT';\n"})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Sample Query 6:"})," To insert risk controls for a user:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES ('EQT','NMS','DAL','user.name','USER','SRCORE','Yes','Enable','Enable','Enable',-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,'username','Saturn',NOW());\n"})}),"\n",(0,o.jsx)(r.p,{children:"To update a restricted symbol, run this update message:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'CloseOnly', futenabled = 'Disabled',optenabled = 'Closeonly'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'DAL' AND riskcontrollevel = 'User' AND riskcontrolkey = 'user.name';\n"})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Sample Query 7:"})," To insert user dividend override:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:'REPLACE INTO srcontrol.msguserdividendoverride\nVALUES (\'EQT\',\'NMS\',\'AAPL\',\'SRCORE\',\'Tooloverride\',NOW(),\'preference\',\'Fullreplace\',\n\'[{"divDate":"2025-05-12","divValue":0.26,"divCurrency":"USD","divKind":"Regular","divSource":"Forecast","divFreq":"None","divOverrideSource":"None"},{"divDate":"2025-08-11","divValue":0.26,"divCurrency":"USD","divKind":"Regular","divSource":"Forecast","divFreq":"None","divOverrideSource":"None"}]\');\n'})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Sample Query 8:"})," To insert user rate override:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-sql",children:'SELECT * FROM srcontrol.doccolumns WHERE TABLE_NAME=\'msguserrateoverride\'\nORDER BY ordinal_position ASC;SELECT * FROM srcontrol.msguserrateoverride\nWHERE clientfirm = \'SRCORE\';REPLACE INTO srcontrol.msguserrateoverride\nVALUES\n(\'SRCORE\',NOW(),\'TEST\',\'[{"days":1,"rate":4.395},{"days":7,"rate":4.3878},{"days":30,"rate":4.3962},{"days":61,"rate":4.3825},{"days":91,"rate":4.3585},{"days":182,"rate":4.2213},{"days":365,"rate":3.9758},{"days":548,"rate":3.8259},{"days":730,"rate":3.7644},{"days":1095,"rate":3.7373},{"days":1825,"rate":3.7984}]\');\n'})})]})}function u(e={}){let{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},285925(e,r,n){n.d(r,{A:()=>s});let s=n.p+"assets/images/SRControl-tables-a0908aaceb667ce0b0e944fa23868914.png"},848193(e,r,n){n.d(r,{R:()=>t,x:()=>a});var s=n(830758);let o={},l=s.createContext(o);function t(e){let r=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(l.Provider,{value:r},e.children)}}}]);