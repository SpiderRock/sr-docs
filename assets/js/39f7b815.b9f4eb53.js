"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([["80956"],{97203:function(e,r,n){n.r(r),n.d(r,{default:()=>u,frontMatter:()=>o,metadata:()=>s,assets:()=>i,toc:()=>c,contentTitle:()=>a});var s=JSON.parse('{"id":"Documentation/PlatformAPIs/SRSE/SRControl","title":"SR Control database","description":"Overview","source":"@site/docs/Documentation/PlatformAPIs/SRSE/7.SRControl.md","sourceDirName":"Documentation/PlatformAPIs/SRSE","slug":"/Documentation/PlatformAPIs/SRSE/SRControl","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRControl","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"SR Control database","sidebar_position":7},"sidebar":"documentationSidebar","previous":{"title":"SR Risk database","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRRisk"},"next":{"title":"SR Theo database","permalink":"/docs/next/Documentation/PlatformAPIs/SRSE/SRTheo"}}'),l=n("52676"),t=n("91503");let o={title:"SR Control database",sidebar_position:7},a=void 0,i={},c=[{value:"Overview",id:"overview",level:2},{value:"SR Control Tables",id:"sr-control-tables",level:2},{value:"Query Examples",id:"query-examples",level:2},{value:"Insert Client Risk Control, including Restricted Symbol Control",id:"insert-client-risk-control-including-restricted-symbol-control",level:3}];function d(e){let r={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"View and manage symbol and user supervisory trade risk controls"}),"\n",(0,l.jsx)(r.li,{children:"Manage borrow rates, locates, and restricted trading lists"}),"\n",(0,l.jsx)(r.li,{children:"Dynamically control algo configuration and delivery instructions"}),"\n",(0,l.jsx)(r.li,{children:"Integrated with SpiderRock GUI tools"}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"sr-control-tables",children:"SR Control Tables"}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.img,{alt:"SR Control Tables",src:n(28362).Z+"",width:"247",height:"616"})}),"\n",(0,l.jsx)(r.h2,{id:"query-examples",children:"Query Examples"}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sample Query 1: Insert Locates into the Away Stock Locate Gateway"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgawaystocklocategateway\nVALUES ('EQT','NMS','AAPL','SRCORE','GS','TEST',50000,'No',1234,NOW());\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sample Query 2: Insert a Request for 50,000 Shares in AAPL"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"VALUES ('EQT','NMS','AAPL','SRCORE','GS','TEST',50000,NOW());\n"})}),"\n",(0,l.jsxs)(r.blockquote,{children:["\n",(0,l.jsx)(r.p,{children:"Note: Only available if you have permission to programmatically request locates from your clearing firm."}),"\n"]}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sample Query 3: Check Available Stock Locates"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"SELECT * FROM srcontrol.msgavailablestocklocates\nWHERE coreclientfirm = 'SRCORE';\n"})}),"\n",(0,l.jsx)(r.h3,{id:"insert-client-risk-control-including-restricted-symbol-control",children:"Insert Client Risk Control, including Restricted Symbol Control"}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sample Query 4: For Client Firm"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES \n('EQT','NMS','BA','*','ClientFirm','SRCORE','Yes','Enable','Enable','Enable',-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,'username','Saturn',NOW());\n"})}),"\n",(0,l.jsx)(r.p,{children:"To update a restricted symbol, run this update message:"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'Disabled', futenabled = 'Disabled',optenabled = 'Disabled'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'BA' AND riskcontrollevel = 'ClientFirm' AND riskcontrolkey = '*';\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sample Query 5: For Account"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES ('EQT','NMS','Z','T.ACCNT','Accnt','SRCORE','Yes','Enable','Enable','Enable',-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,'username','Saturn',NOW());\n"})}),"\n",(0,l.jsx)(r.p,{children:"To update a restricted symbol, run this update message:"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'Disabled', futenabled = 'Disabled',optenabled = 'Closeonly'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'Z' AND riskcontrollevel = 'Accnt' AND riskcontrolkey = 'T.ACCNT';\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sample Query 6: For User"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"REPLACE INTO srcontrol.msgsrriskcontrol\nVALUES ('EQT','NMS','DAL','user.name','USER','SRCORE','Yes','Enable','Enable','Enable',-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,'username','Saturn',NOW());\n"})}),"\n",(0,l.jsx)(r.p,{children:"To update a restricted symbol, run this update message:"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"UPDATE srcontrol.msgsrriskcontrol\nSET stkenabled = 'CloseOnly', futenabled = 'Disabled',optenabled = 'Closeonly'\nWHERE riskfirm = 'SRCORE' AND ticker_tk = 'DAL' AND riskcontrollevel = 'User' AND riskcontrolkey = 'user.name';\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sample Query 7: Insert User Dividend Override"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:'REPLACE INTO srcontrol.msguserdividendoverride\nVALUES (\'EQT\',\'NMS\',\'AAPL\',\'SRCORE\',\'Tooloverride\',NOW(),\'preference\',\'Fullreplace\',\n\'[{"divDate":"2025-05-12","divValue":0.26,"divCurrency":"USD","divKind":"Regular","divSource":"Forecast","divFreq":"None","divOverrideSource":"None"},{"divDate":"2025-08-11","divValue":0.26,"divCurrency":"USD","divKind":"Regular","divSource":"Forecast","divFreq":"None","divOverrideSource":"None"}]\');\n'})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sample Query 8: Insert User Rate Override"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:'SELECT * FROM srcontrol.doccolumns WHERE TABLE_NAME=\'msguserrateoverride\'\nORDER BY ordinal_position ASC;SELECT * FROM srcontrol.msguserrateoverride\nWHERE clientfirm = \'SRCORE\';REPLACE INTO srcontrol.msguserrateoverride\nVALUES\n(\'SRCORE\',NOW(),\'TEST\',\'[{"days":1,"rate":4.395},{"days":7,"rate":4.3878},{"days":30,"rate":4.3962},{"days":61,"rate":4.3825},{"days":91,"rate":4.3585},{"days":182,"rate":4.2213},{"days":365,"rate":3.9758},{"days":548,"rate":3.8259},{"days":730,"rate":3.7644},{"days":1095,"rate":3.7373},{"days":1825,"rate":3.7984}]\');\n'})})]})}function u(e={}){let{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28362:function(e,r,n){n.d(r,{Z:function(){return s}});let s=n.p+"assets/images/SRControl-tables-b35bb78d44abc5d62526c40e8db57d0a.png"},91503:function(e,r,n){n.d(r,{Z:function(){return a},a:function(){return o}});var s=n(75271);let l={},t=s.createContext(l);function o(e){let r=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);